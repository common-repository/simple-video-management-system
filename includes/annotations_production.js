/* Copyright 2009 Google Inc. All Rights Reserved. */ (function(){var d,k=this,aa=function(a,b,c){a=a.split(".");c=c||k;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?c=c[e]?c[e]:c[e]={}:c[e]=b},ba=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ca=function(a){var b=ba(a);return"array"==b||"object"==b&&"number"==typeof a.length},da=function(a){return"string"==typeof a},ea=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},fa=function(a,
b,c){return a.call.apply(a.bind,arguments)},ga=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,e);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},l=function(a,b,c){l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ga;return l.apply(null,arguments)},ha=function(a,b){function c(){}c.prototype=
b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,h){for(var n=Array(arguments.length-2),m=2;m<arguments.length;m++)n[m-2]=arguments[m];return b.prototype[c].apply(a,n)}};var ia;var ja=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ra=function(a,b){if(b)a=a.replace(ka,"&amp;").replace(la,"&lt;").replace(ma,"&gt;").replace(na,"&quot;").replace(oa,"&#39;").replace(pa,"&#0;");else{if(!qa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ka,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(la,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ma,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(na,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(oa,
"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(pa,"&#0;"))}return a},ka=/&/g,la=/</g,ma=/>/g,na=/"/g,oa=/'/g,pa=/\x00/g,qa=/[\x00&<>"']/,sa=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},p=function(a,b,c){a=void 0!==c?a.toFixed(c):String(a);c=a.indexOf(".");-1==c&&(c=a.length);return sa("0",Math.max(0,b-c))+a},ta=function(a,b){return a<b?-1:a>b?1:0};var ua,va={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};ua=va;var ya=Array.prototype,za=ya.indexOf?function(a,b,c){return ya.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(da(a))return da(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Aa=ya.forEach?function(a,b,c){ya.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,g=da(a)?a.split(""):a,h=0;h<e;h++)h in g&&b.call(c,g[h],h,a)},Ba=function(a){var b=a.length;if(0<b){for(var c=Array(b),e=0;e<b;e++)c[e]=a[e];return c}return[]};var Ca=function(a,b,c){for(var e in a)b.call(c,a[e],e,a)},Da="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ea=function(a,b){for(var c,e,g=1;g<arguments.length;g++){e=arguments[g];for(c in e)a[c]=e[c];for(var h=0;h<Da.length;h++)c=Da[h],Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}};var Fa=function(){},Ha=function(a){if("number"==typeof a){var b=a;a=new Fa;a.standardOffset_=b;var c;c=b;if(0==c)c="Etc/GMT";else{var e=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);e.push(Math.floor(c/60)%100);c%=60;0!=c&&e.push(":",p(c,2));c=e.join("")}a.timeZoneId_=c;c=b;0==c?c="UTC":(e=["UTC",0>c?"+":"-"],c=Math.abs(c),e.push(Math.floor(c/60)%100),c%=60,0!=c&&e.push(":",c),c=e.join(""));b=Ga(b);a.tzNames_=[c,c];a.tzNamesExt_={STD_LONG_NAME_GMT:b,STD_GENERIC_LOCATION:b};a.transitions_=[];return a}b=new Fa;
b.timeZoneId_=a.id;b.standardOffset_=-a.std_offset;b.tzNames_=a.names;b.tzNamesExt_=a.names_ext;b.transitions_=a.transitions;return b},Ga=function(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(p(Math.floor(a/60)%100,2),":",p(a%60,2));return b.join("")};d=Fa.prototype;
d.getDaylightAdjustment=function(a){a=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes());a/=36E5;for(var b=0;b<this.transitions_.length&&a>=this.transitions_[b];)b+=2;return 0==b?0:this.transitions_[b-1]};d.getGMTString=function(a){return Ga(this.getOffset(a))};d.getLongName=function(a){return this.tzNames_[this.isDaylightTime(a)?3:1]};d.getOffset=function(a){return this.standardOffset_-this.getDaylightAdjustment(a)};
d.getRFCTimeZoneString=function(a){a=-this.getOffset(a);var b=[0>a?"-":"+"];a=Math.abs(a);b.push(p(Math.floor(a/60)%100,2),p(a%60,2));return b.join("")};d.getShortName=function(a){return this.tzNames_[this.isDaylightTime(a)?2:0]};d.isDaylightTime=function(a){return 0<this.getDaylightAdjustment(a)};d.getGenericLocation=function(a){return this.isDaylightTime(a)?this.tzNamesExt_.DST_GENERIC_LOCATION:this.tzNamesExt_.STD_GENERIC_LOCATION};var q=function(a,b){this.patternParts_=[];this.dateTimeSymbols_=b||ua;"number"==typeof a?this.applyStandardPattern_(a):this.applyPattern_(a)},Ia=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvVwzZ]+/];
q.prototype.applyPattern_=function(a){for(Ja&&(a=a.replace(/\u200f/g,""));a;)for(var b=0;b<Ia.length;++b){var c=a.match(Ia[b]);if(c){c=c[0];a=a.substring(c.length);0==b&&("''"==c?c="'":(c=c.substring(1,c.length-1),c=c.replace(/\'\'/,"'")));this.patternParts_.push({text:c,type:b});break}}};
q.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-b.getOffset(a)):0,e=c?new Date(a.getTime()+c):a,g=e;b&&e.getTimezoneOffset()!=a.getTimezoneOffset()&&(g=6E4*(e.getTimezoneOffset()-a.getTimezoneOffset()),e=new Date(e.getTime()+g),c+=0<c?-864E5:864E5,g=new Date(a.getTime()+c));for(var c=[],h=0;h<this.patternParts_.length;++h){var n=this.patternParts_[h].text;1==this.patternParts_[h].type?c.push(this.formatField_(n,a,e,g,b)):
c.push(n)}return c.join("")};q.prototype.applyStandardPattern_=function(a){var b;if(4>a)b=this.dateTimeSymbols_.DATEFORMATS[a];else if(8>a)b=this.dateTimeSymbols_.TIMEFORMATS[a-4];else if(12>a)b=this.dateTimeSymbols_.DATETIMEFORMATS[a-8],b=b.replace("{1}",this.dateTimeSymbols_.DATEFORMATS[a-8]),b=b.replace("{0}",this.dateTimeSymbols_.TIMEFORMATS[a-8]);else{this.applyStandardPattern_(10);return}this.applyPattern_(b)};
q.prototype.localizeNumbers_=function(a){a=String(a);var b=this.dateTimeSymbols_||ua;if(void 0!==b.ZERODIGIT&&!Ka){for(var c=[],e=0;e<a.length;e++){var g=a.charCodeAt(e);c.push(48<=g&&57>=g?String.fromCharCode(b.ZERODIGIT+g-48):a.charAt(e))}a=c.join("")}return a};var Ka=!1,Ja=!1;q.prototype.formatEra_=function(a,b){var c=0<b.getFullYear()?1:0;return 4<=a?this.dateTimeSymbols_.ERANAMES[c]:this.dateTimeSymbols_.ERAS[c]};
q.prototype.formatYear_=function(a,b){var c=b.getFullYear();0>c&&(c=-c);2==a&&(c%=100);return this.localizeNumbers_(p(c,a))};q.prototype.formatMonth_=function(a,b){var c=b.getMonth();switch(a){case 5:return this.dateTimeSymbols_.NARROWMONTHS[c];case 4:return this.dateTimeSymbols_.MONTHS[c];case 3:return this.dateTimeSymbols_.SHORTMONTHS[c];default:return this.localizeNumbers_(p(c+1,a))}};
var r=function(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");};d=q.prototype;d.format24Hours_=function(a,b){r(b);return this.localizeNumbers_(p(b.getHours()||24,a))};d.formatFractionalSeconds_=function(a,b){var c=b.getTime()%1E3/1E3;return this.localizeNumbers_(c.toFixed(Math.min(3,a)).substr(2)+(3<a?p(0,a-3):""))};
d.formatDayOfWeek_=function(a,b){var c=b.getDay();return 4<=a?this.dateTimeSymbols_.WEEKDAYS[c]:this.dateTimeSymbols_.SHORTWEEKDAYS[c]};d.formatAmPm_=function(a,b){r(b);var c=b.getHours();return this.dateTimeSymbols_.AMPMS[12<=c&&24>c?1:0]};d.format1To12Hours_=function(a,b){r(b);return this.localizeNumbers_(p(b.getHours()%12||12,a))};d.format0To11Hours_=function(a,b){r(b);return this.localizeNumbers_(p(b.getHours()%12,a))};
d.format0To23Hours_=function(a,b){r(b);return this.localizeNumbers_(p(b.getHours(),a))};d.formatStandaloneDay_=function(a,b){var c=b.getDay();switch(a){case 5:return this.dateTimeSymbols_.STANDALONENARROWWEEKDAYS[c];case 4:return this.dateTimeSymbols_.STANDALONEWEEKDAYS[c];case 3:return this.dateTimeSymbols_.STANDALONESHORTWEEKDAYS[c];default:return this.localizeNumbers_(p(c,1))}};
d.formatStandaloneMonth_=function(a,b){var c=b.getMonth();switch(a){case 5:return this.dateTimeSymbols_.STANDALONENARROWMONTHS[c];case 4:return this.dateTimeSymbols_.STANDALONEMONTHS[c];case 3:return this.dateTimeSymbols_.STANDALONESHORTMONTHS[c];default:return this.localizeNumbers_(p(c+1,a))}};d.formatQuarter_=function(a,b){var c=Math.floor(b.getMonth()/3);return 4>a?this.dateTimeSymbols_.SHORTQUARTERS[c]:this.dateTimeSymbols_.QUARTERS[c]};
d.formatDate_=function(a,b){return this.localizeNumbers_(p(b.getDate(),a))};d.formatMinutes_=function(a,b){r(b);return this.localizeNumbers_(p(b.getMinutes(),a))};d.formatSeconds_=function(a,b){r(b);return this.localizeNumbers_(p(b.getSeconds(),a))};
d.formatWeekOfYear_=function(a,b){var c,e=this.dateTimeSymbols_.FIRSTWEEKCUTOFFDAY;c=new Date(b.getFullYear(),b.getMonth(),b.getDate());var e=void 0!==e?e:3,g=this.dateTimeSymbols_.FIRSTDAYOFWEEK||0,h=(c.getDay()+6)%7,h=(h-g+7)%7,e=(e-g+7)%7;c=c.valueOf()+864E5*(e-h);e=(new Date((new Date(c)).getFullYear(),0,1)).valueOf();c=Math.floor(Math.round((c-e)/864E5)/7)+1;return this.localizeNumbers_(p(c,a))};
d.formatTimeZoneRFC_=function(a,b,c){c=c||Ha(b.getTimezoneOffset());return 4>a?c.getRFCTimeZoneString(b):this.localizeNumbers_(c.getGMTString(b))};d.formatTimeZone_=function(a,b,c){c=c||Ha(b.getTimezoneOffset());return 4>a?c.getShortName(b):c.getLongName(b)};d.formatTimeZoneId_=function(a,b){b=b||Ha(a.getTimezoneOffset());return b.timeZoneId_};d.formatTimeZoneLocationId_=function(a,b,c){c=c||Ha(b.getTimezoneOffset());return 2>=a?c.timeZoneId_:c.getGenericLocation(b)};
d.formatField_=function(a,b,c,e,g){var h=a.length;switch(a.charAt(0)){case "G":return this.formatEra_(h,c);case "y":return this.formatYear_(h,c);case "M":return this.formatMonth_(h,c);case "k":return this.format24Hours_(h,e);case "S":return this.formatFractionalSeconds_(h,e);case "E":return this.formatDayOfWeek_(h,c);case "a":return this.formatAmPm_(h,e);case "h":return this.format1To12Hours_(h,e);case "K":return this.format0To11Hours_(h,e);case "H":return this.format0To23Hours_(h,e);case "c":return this.formatStandaloneDay_(h,
c);case "L":return this.formatStandaloneMonth_(h,c);case "Q":return this.formatQuarter_(h,c);case "d":return this.formatDate_(h,c);case "m":return this.formatMinutes_(h,e);case "s":return this.formatSeconds_(h,e);case "v":return this.formatTimeZoneId_(b,g);case "V":return this.formatTimeZoneLocationId_(h,b,g);case "w":return this.formatWeekOfYear_(h,e);case "z":return this.formatTimeZone_(h,b,g);case "Z":return this.formatTimeZoneRFC_(h,b,g);default:return""}};window.google=window.google||{};window.google.annotations=window.google.annotations||{};var La=La||{};var u=[],Ma=function(a){var b=a+" minutes ago";return 2>a?"1 minute ago":b};u[0]=Ma;var Na=function(a){var b=a+" hours ago";return 2>a?"1 hour ago":b};u[1]=Na;var Oa=function(a){var b=a+" days ago";return 2>a?"1 day ago":b};u[2]=Oa;var Pa=function(a){var b=new q(2);return b.format(a)};u[57]=Pa;var Qa=function(a,b,c){return a+=" - "+(b+(" of "+c))};u[3]=Qa;var Ra=function(a,b,c){return a+=" - "+(b+(" of approximately "+c))};u[4]=Ra;var Sa=function(a){return a='<a zzLabel="signInAnchor" href="'+a+'" target="_top">Sign in to your Google Account</a> to write a comment'};
u[5]=Sa;u[6]="Ratings";u[7]="Rating";u[8]="Ratings";u[9]="Ratings";u[10]="Ratings";u[11]="Your rating:";u[12]="Your comment:";u[13]="Edit";u[14]="Delete";u[15]="Save";u[16]="Cancel";u[17]="Hide";u[18]="No labels";u[19]="Back";u[20]="Forward";u[21]="{$numPositiveRatings} out of {$totalRatings} people found this review helpful.";u[22]="({$numPositiveRatings} out of {$totalRatings} people found this review helpful.)";u[23]="powered by Google";u[24]="by Google";u[25]="Mark as spam";u[26]="Hated it";
u[27]="Didn't like it";u[28]="Liked it";u[29]="Really liked it";u[30]="Loved it";u[31]="No rating";u[32]="Saving...";u[33]="Saved...";u[34]="&lt; Previous";u[35]="Next &gt;";u[36]="Loading...";u[37]="No comments";u[38]="anonymous";u[39]="Publish";u[40]="Write comment";u[41]="Sorry, we encountered an error while publishing your comment. Please try again.";u[42]="My Reviews";u[43]="Yes";u[44]="No";u[45]="Add Note";u[46]="&laquo; Previous";u[47]="Next &raquo;";u[48]="More";u[49]="Less";u[50]="Loading...";
u[51]="No Results";u[52]="Could not fetch results";u[53]="Your title:";u[54]="Your comment:";u[55]="Thanks for your feedback:";u[56]="Was this comment useful?";u[58]="Delete comment";u[59]="Write a review";u[60]="All fields are mandatory.";var Ta=function(a){var b=Math.floor(a)!=a?a.toFixed(1):a,b=b+" Stars";return 1==a?"1 Star":b};u[61]=Ta;window.google.annotations.messages=u;var Ua;a:{var Va=k.navigator;if(Va){var Wa=Va.userAgent;if(Wa){Ua=Wa;break a}}Ua=""}var v=function(a){var b=Ua;return-1!=b.indexOf(a)},Xa=function(a){var b=Ua;return-1!=b.toLowerCase().indexOf(a.toLowerCase())};var Ya=function(){return v("Opera")||v("OPR")},Za=function(){return v("Trident")||v("MSIE")},$a=Ya,ab=Za;var bb=$a(),w=ab(),cb=v("Edge"),db=v("Gecko")&&!(Xa("WebKit")&&!v("Edge"))&&!(v("Trident")||v("MSIE"))&&!v("Edge"),eb=Xa("WebKit")&&!v("Edge"),hb=function(){if(bb&&k.opera){var a;var b=k.opera.version;try{a=b()}catch(c){a=b}return a}a="";(b=fb())&&(a=b?b[1]:"");return w&&(b=gb(),b>parseFloat(a))?String(b):a},fb=function(){var a=Ua;if(db)return/rv\:([^\);]+)(\)|;)/.exec(a);if(cb)return/Edge\/([\d\.]+)/.exec(a);if(w)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(eb)return/WebKit\/(\S+)/.exec(a)},
gb=function(){var a=k.document;return a?a.documentMode:void 0},ib=hb(),jb={},kb=function(a){var b;if(!(b=jb[a])){var c=a,e=0;b=ja(String(ib)).split(".");for(var c=ja(String(c)).split("."),g=Math.max(b.length,c.length),h=0;0==e&&h<g;h++){var n=b[h]||"",m=c[h]||"",t=RegExp("(\\d*)(\\D*)","g"),E=RegExp("(\\d*)(\\D*)","g");do{var wa=t.exec(n)||["","",""],xa=E.exec(m)||["","",""];if(0==wa[0].length&&0==xa[0].length)break;var e=0==wa[1].length?0:parseInt(wa[1],10),Bd=0==xa[1].length?0:parseInt(xa[1],10),
e=ta(e,Bd)||ta(0==wa[2].length,0==xa[2].length)||ta(wa[2],xa[2])}while(0==e)}b=e;b=jb[a]=0<=b}return b},lb,mb=k.document,nb=gb(),ob=lb=mb&&w?nb||("CSS1Compat"==mb.compatMode?parseInt(ib,10):5):void 0;var pb=!w||9<=ob;!db&&!w||w&&9<=ob||db&&kb("1.9.1");w&&kb("9");var rb=function(a){return a?new qb(9==a.nodeType?a:a.ownerDocument||a.document):ia||(ia=new qb)},tb=function(a,b){Ca(b,function(b,e){"style"==e?a.style.cssText=b:"class"==e?a.className=b:"for"==e?a.htmlFor=b:sb.hasOwnProperty(e)?a.setAttribute(sb[e],b):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,b):a[e]=b})},sb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",
type:"type",usemap:"useMap",valign:"vAlign",width:"width"},vb=function(a,b,c){return ub(document,arguments)},ub=function(a,b){var c=b[0],e=b[1];if(!pb&&e&&(e.name||e.type)){c=["<",c];e.name&&c.push(' name="',ra(e.name),'"');if(e.type){c.push(' type="',ra(e.type),'"');var g={};Ea(g,e);delete g.type;e=g}c.push(">");c=c.join("")}c=a.createElement(c);e&&(da(e)?c.className=e:"array"==ba(e)?c.className=e.join(" "):tb(c,e));2<b.length&&wb(a,c,b,2);return c},wb=function(a,b,c,e){function g(c){c&&b.appendChild(da(c)?
a.createTextNode(c):c)}for(;e<c.length;e++){var h=c[e];!ca(h)||ea(h)&&0<h.nodeType?g(h):Aa(xb(h)?Ba(h):h,g)}},yb=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0},
zb=function(a,b){a.appendChild(b)},Ab=function(a,b){wb(9==a.nodeType?a:a.ownerDocument||a.document,a,arguments,1)},Bb=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},Cb=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},xb=function(a){if(a&&"number"==typeof a.length){if(ea(a))return"function"==typeof a.item||"string"==
typeof a.item;if("function"==ba(a))return"function"==typeof a.item}return!1},qb=function(a){this.document_=a||k.document||document};d=qb.prototype;d.getDomHelper=rb;d.getElement=function(a){return da(a)?this.document_.getElementById(a):a};d.$=qb.prototype.getElement;
d.getElementsByTagNameAndClass=function(a,b,c){c=c||this.document_;var e=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(e||b))b=e+(b?"."+b:""),b=c.querySelectorAll(b);else if(b&&c.getElementsByClassName)if(a=c.getElementsByClassName(b),e){c={};for(var g=0,h=0,n;n=a[h];h++)e==n.nodeName&&(c[g++]=n);c.length=g;b=c}else b=a;else if(a=c.getElementsByTagName(e||"*"),b){c={};for(h=g=0;n=a[h];h++){var e=n.className,m;if(m="function"==typeof e.split)e=e.split(/\s+/),m=0<=za(e,b);m&&
(c[g++]=n)}c.length=g;b=c}else b=a;return b};d.createDom=function(a,b,c){return ub(this.document_,arguments)};d.createElement=function(a){return this.document_.createElement(a)};d.createTextNode=function(a){return this.document_.createTextNode(String(a))};d.appendChild=zb;d.append=Ab;d.canHaveChildren=yb;d.removeNode=Bb;d.contains=Cb;function x(a,b){var c=function(){};c.prototype=b.prototype;a.prototype=new c;a.superClass_=b.prototype;a.prototype.superClass_=b.prototype}function Db(a){a=encodeURIComponent(a);return a=a.replace(/\s/g,"+")}var Eb=/&amp;/g,Fb=/&lt;/g,Gb=/&gt;/g,Hb=/&quot;/g,Ib=/&apos;/g;
function y(a,b,c){var e="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(e,c);else{var g=a[e];a[e]=function(){var a=g.apply(this,arguments),b=c.apply(this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var Jb={textColor:"color"};function Kb(a,b){for(var c in a){var e=Jb[c]||c,g=a[c];b.style[e]=g}}function Lb(a,b){var c=String(a).toLowerCase();return"false"==c?!1:"true"==c?!0:"null"==c?null:b}function z(a){return null==a||void 0==a?!0:!1}
var Mb=/^(ar|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/,Nb=function(a){return Mb.test(a)};var Ob=function(){};Ob.prototype.escape=function(){};var Pb=function(){this.escapers_=[]};x(Pb,Ob);Pb.prototype.appendEscaper=function(a){this.escapers_.push(a)};Pb.prototype.escape=function(a){for(var b=0;b<this.escapers_.length;++b)a=this.escapers_[b].escape(a);return a};var Qb=function(){};x(Qb,Ob);Qb.prototype.escape=function(a){a||(a="");a=a.toString();a=a.replace(/\\/g,"\\\\");return a=a.replace(/\"/g,'\\"')};var Rb=null,Sb=function(){Rb||(Rb=new Qb);return Rb},Tb=function(){};x(Tb,Ob);
Tb.prototype.escape=function(a){a=a.replace(/%/gi,"%25");a=a.replace(/&/gi,"%26");a=a.replace(/\+/gi,"%2B");return a=a.replace(/ /gi,"+")};var Ub=null,Vb=function(){Ub||(Ub=new Tb);return Ub};var Wb=function(){this.buf_="";this.compressedOutput_=!1;this.tab_=0;this.lastOutputWasNewLine_=!1};d=Wb.prototype;d.setCompressedMode=function(a){this.compressedOutput_=a};d.buffer=function(){return this.buf_};d.clear=function(){this.buf_="";this.tab_=0;this.lastOutputWasNewLine_=!1};d.print=function(a){this.lastOutputWasNewLine_&&(this.tabToPosition_(),this.lastOutputWasNewLine_=!1);this.buf_+=a};d.tabToPosition_=function(){if(!this.compressedOutput_)for(var a=0;a<this.tab_;++a)this.buf_+="  "};
d.tab=function(){++this.tab_};d.unTab=function(){--this.tab_};d.number=function(a){this.print(""+a)};d.newLine=function(){this.compressedOutput_||(this.buf_+="\n");this.lastOutputWasNewLine_=!0};d.openObject=function(){};d.closeObject=function(){};d.openArray=function(){};d.closeArray=function(){};d.string=function(){};d.booleanValue=function(){};d.hashKey=function(){};d.nullValue=function(){};d.listSeparator=function(){};d.arraySeparator=function(){};
d.booleanValueOrNull=function(a){null==a?this.nullValue():this.booleanValue(a)};d.stringArray=function(a){this.openArray();for(var b=0;b<a.length;++b)0<b&&this.arraySeparator(),this.string(a[b]);this.closeArray()};d.numberArray=function(a){this.openArray();for(var b=0;b<a.length;++b)0<b&&this.arraySeparator(),this.number(a[b]);this.closeArray()};
d.objectArray=function(a){this.openArray();this.newLine();this.tab();for(var b=0;b<a.length;++b)0<b&&this.arraySeparator(),a[b].print(this);this.closeArray();this.unTab()};d.printKeyValuePairs=function(a){this.openObject();this.newLine();this.tab();var b=!1,c;for(c in a)b&&(this.listSeparator(),this.newLine()),this.hashKey(c),this.hashValue(a[c]),b=!0;this.closeObject();this.unTab();return this.buffer()};
d.printObjectFields=function(a,b){var c=!1,e;for(e in b){var g=!1;b[e].suppress&&(g=b[e].suppress.call(a));g||(c&&(this.listSeparator(),this.newLine()),this.hashKey(e),b[e].print.call(a,this),c=!0)}return c};var Yb=function(a){Wb.call(this);this.delimiters_=Xb;this.escaper_=Sb();if(a){this.delimiters_=[];for(var b=0;b<Xb.length;++b)this.delimiters_.push(a.escape(Xb[b]));this.escaper_=new Pb;this.escaper_.appendEscaper(Sb());this.escaper_.appendEscaper(a)}},Xb='{ } [ ] " " false true null : , ,'.split(" ");
x(Yb,Wb);d=Yb.prototype;d.printDelimiter=function(a){this.print(this.delimiters_[a])};d.openObject=function(){this.printDelimiter(0)};d.closeObject=function(){this.printDelimiter(1)};d.openArray=function(){this.printDelimiter(2)};d.closeArray=function(){this.printDelimiter(3)};d.string=function(a){null==a?this.nullValue():(this.printDelimiter(4),this.print(this.escaper_.escape(a)),this.printDelimiter(5))};d.booleanValue=function(a){a?this.printDelimiter(7):this.printDelimiter(6)};
d.hashKey=function(a){this.string(a);this.printDelimiter(9)};d.hashValue=function(a){null==a?this.nullValue():"number"==typeof a?this.print(""+a):"string"==typeof a?this.string(a):"boolean"==typeof a?this.booleanValue(a):"object"==typeof a&&a.print(this)};d.nullValue=function(){this.printDelimiter(8)};d.listSeparator=function(){this.printDelimiter(10)};d.arraySeparator=function(){this.printDelimiter(11)};var A=function(){};d=A.prototype;d.print=function(a){a.openObject();a.newLine();a.tab();this.printFields(a);a.closeObject();a.unTab();return a.buffer()};d.printFields=function(a){return a.printObjectFields(this,this.fullDictionary_())};d.parseFromObject=function(a){var b=this.fullDictionary_(),c;for(c in b){var e=a[c];"undefined"!=typeof e&&null!=e&&b[c].parse.call(this,e)}};d.dictionary_=function(){return{}};
d.fullDictionary_=function(){for(var a={},b=this;null!=b;){var c=b.dictionary_.call(this),e={},g=void 0;for(g in a)e[g]=a[g];for(g in c)e[g]=c[g];a=e;b=b.superClass_}return a};var B=function(a,b){for(var c=[],e=0;e<a.length;++e){var g=new b;g.parseFromObject(a[e]);c.push(g)}return c};A.prototype.toJSON=function(a,b){var c=new Yb(a);c.setCompressedMode(!!b);this.print(c);return c.buffer()};var Zb=function(){};x(Zb,A);d=Zb.prototype;d.toString=function(){var a=new Yb;a.setCompressedMode(!0);return this.print(a)};d.hashCode=function(){return this.toString()};d.copyFrom=function(){};d.isLookupable=function(){return!1};d.isAnnotationEntity=function(){return!1};d.isSearchEntity=function(){return!1};
var C=function(){this.encrypted_=this.entityId_=this.swUrl_=this.annotation_=this.idDocStr_=this.trustedMerchantId_=this.product_=this.user_=this.doc_=this.isbn_=this.url_=this.authorPhotoUrl_=this.nickname_=this.author_=null;this.groups_=[];this.matchExtraGroups_=null};x(C,Zb);d=C.prototype;d.isAnnotationEntity=function(){return!0};d.copyFrom=function(a){this.copyBase(a);this.copyGroups(a)};
d.copyBase=function(a){a!=this&&(this.author_=a.author_,this.nickname_=a.nickname_,this.authorPhotoUrl_=a.authorPhotoUrl_,this.url_=a.url_,this.swUrl_=a.swUrl_,this.entityId_=a.entityId_,this.encrypted_=a.encrypted_,this.isbn_=a.isbn_,this.doc_=a.doc_,this.user_=a.user_,this.product_=a.product_,this.trustedMerchantId_=a.trustedMerchantId_,this.idDocStr_=a.idDocStr_,a.annotation_?(null==this.annotation_&&(this.annotation_=new C),this.annotation_.copyFrom(a.annotation_)):this.annotation_=null)};
d.copyGroups=function(a){if(a!=this){this.groups_=[];for(var b=0;b<a.groups_.length;++b)this.groups_.push(a.groups_[b]);this.matchExtraGroups_=a.matchExtraGroups_}};d.author=function(){return this.author_};d.nickname=function(){return this.nickname_};d.authorPhotoUrl=function(){return this.authorPhotoUrl_};d.url=function(){return this.url_};d.swUrl=function(){return this.swUrl_};d.entityId=function(){return this.entityId_};d.encrypted=function(){return this.encrypted_};d.isbn=function(){return this.isbn_};
d.doc=function(){return this.doc_};d.user=function(){return this.user_};d.product=function(){return this.product_};d.trustedMerchantId=function(){return this.trustedMerchantId_};d.matchExtraGroups=function(){return this.matchExtraGroups_};d.setAuthor=function(a){this.author_=a};d.setNickname=function(a){this.nickname_=a};d.setAuthorPhotoUrl=function(a){this.authorPhotoUrl_=a};d.setUrl=function(a){this.url_=a};d.setSwUrl=function(a){this.swUrl_=a};d.setEntityId=function(a){this.entityId_=a};
d.setEncrypted=function(a){this.encrypted_=a};d.setIsbn=function(a){this.isbn_=a};d.setDoc=function(a){this.doc_=a};d.setUser=function(a){this.user_=a};d.setProduct=function(a){this.product_=a};d.setTrustedMerchantId=function(a){this.trustedMerchantId_=a};d.setIdDocStr=function(a){this.idDocStr_=a};d.setMatchExtraGroups=function(a){this.matchExtraGroups_="true"===a||!0===a};d.isLookupable=function(){return 0<this.groups_.length&&"public_comment"==this.groups_[0]?!1:!0};d.annotation=function(){return this.annotation_};
d.setAnnotation=function(a){this.annotation_=a};
d.dictionary_=function(){return{author:{suppress:function(){return!this.author()},print:function(a){a.string(this.author())},parse:function(a){this.setAuthor(a)}},nickname:{suppress:function(){return!this.nickname()},print:function(a){a.string(this.nickname())},parse:function(a){this.setNickname(a)}},authorPhotoUrl:{suppress:function(){return!this.authorPhotoUrl()},print:function(a){a.string(this.authorPhotoUrl())},parse:function(a){this.setAuthorPhotoUrl(a)}},url:{suppress:function(){return!this.url()},
print:function(a){a.string(this.url())},parse:function(a){this.setUrl(a)}},swUrl:{suppress:function(){return!this.swUrl()},print:function(a){a.string(this.swUrl())},parse:function(a){this.setSwUrl(a)}},entityId:{suppress:function(){return!this.entityId()},print:function(a){a.string(this.entityId())},parse:function(a){this.setEntityId(a)}},encrypted:{suppress:function(){return!this.encrypted()},print:function(a){a.string(this.encrypted())},parse:function(a){this.setEncrypted(a)}},isbn:{suppress:function(){return!this.isbn()},
print:function(a){a.string(this.isbn())},parse:function(a){this.setIsbn(a)}},doc:{suppress:function(){return!this.doc()},print:function(a){a.string(this.doc())},parse:function(a){this.setDoc(a)}},user:{suppress:function(){return!this.user()},print:function(a){a.string(this.user())},parse:function(a){this.setUser(a)}},product:{suppress:function(){return!this.product()},print:function(a){a.string(this.product())},parse:function(a){this.setProduct(a)}},trustedMerchantId:{suppress:function(){return!this.trustedMerchantId()},
print:function(a){a.string(this.trustedMerchantId())},parse:function(a){this.setTrustedMerchantId(a)}},id:{suppress:function(){return!this.idDocStr_},print:function(a){a.string(this.idDocStr_)},parse:function(a){this.setIdDocStr(a)}},annotation:{suppress:function(){return!this.annotation_},print:function(a){this.annotation().print(a)},parse:function(a){this.annotation_=new C;this.annotation_.parseFromObject(a)}},groups:{suppress:function(){return 0==this.groups_.length},print:function(a){a.stringArray(this.groups_)},
parse:function(a){this.groups_="string"==typeof a?a.split(","):a}},matchExtraGroups:{suppress:function(){return!this.matchExtraGroups()},print:function(a){a.booleanValue(this.matchExtraGroups())},parse:function(a){this.setMatchExtraGroups(a)}}}};var $b=function(){this.id_="search"+Math.random()};x($b,Zb);d=$b.prototype;d.isSearchEntity=function(){return!0};d.copyFrom=function(a){this.setId(a.id())};d.setId=function(a){return this.id_=a};d.id=function(){return this.id_};
d.dictionary_=function(){return{id:{print:function(a){a.string(this.id())},parse:function(a){this.setId(a)}}}};var ac=function(a,b){this.averageRating_=a?a:0;this.count_=b?b:0};x(ac,A);ac.prototype.copyFrom=function(a){this.averageRating_=a.averageRating_;this.count_=a.count_};ac.prototype.combinedAverage=function(a){var b=a.totalCount()+this.count_;if(0==b)return-1;a=a.totalRating()+this.averageRating_*this.count_;return a/b};ac.prototype.combinedRatingsInInterval=function(a,b,c){a=a.totalRatingsInInterval(b,c);1==b&&5==c&&(a+=this.count_);return a};
ac.prototype.dictionary_=function(){return{averageRating:{print:function(a){a.number(this.averageRating_)},parse:function(a){this.averageRating_=Number(a)}},count:{print:function(a){a.number(this.count_)},parse:function(a){this.count_=Number(a)}}}};var bc=function(){this.inlineMode_=!1;this.domainRestricted_=this.noStaticGws_=this.locale_=this.applicationId_=null;this.dasherDomain_="";this.languageOfAnnotation_=this.userKey_=null;this.widgetsOnPage_={}};x(bc,A);d=bc.prototype;d.inlineMode=function(){return this.inlineMode_};d.setInlineMode=function(a){this.inlineMode_=a};d.applicationId=function(){return this.applicationId_};d.setApplicationId=function(a){this.applicationId_=a};d.locale=function(){return this.locale_};
d.setLocale=function(a){this.locale_=a};d.noStaticGws=function(){return this.noStaticGws_};d.setNoStaticGws=function(a){this.noStaticGws_=a};d.setDasherDomainForZFERequest=function(a){this.dasherDomain_=a};d.userKey=function(){return this.userKey_};d.setUserKey=function(a){this.userKey_=a};d.domainRestricted=function(){return this.domainRestricted_};d.setDomainRestricted=function(a){this.domainRestricted_=a};d.languageOfAnnotation=function(){return this.languageOfAnnotation_};
d.setLanguageOfAnnotation=function(a){this.languageOfAnnotation_=a};var cc=null,D=function(){cc||(cc=new bc);return cc};
bc.prototype.dictionary_=function(){return{inlineMode:{print:function(a){a.booleanValue(this.inlineMode())},parse:function(a){this.setInlineMode(a)}},applicationId:{print:function(a){a.number(this.applicationId())},parse:function(a){this.setApplicationId(a)}},locale:{print:function(a){a.string(this.locale())},parse:function(a){this.setLocale(a)}},noStaticGws:{print:function(a){a.booleanValue(this.noStaticGws())},parse:function(a){this.setNoStaticGws(a)}},dasherDomain:{suppress:function(){return!this.dasherDomain_},
print:function(a){a.string(this.dasherDomain_)},parse:function(a){this.dasherDomain_=a}},userKey:{suppress:function(){return!this.userKey_},print:function(a){a.string(this.userKey_)},parse:function(a){this.userKey_=a}},languageOfAnnotation:{suppress:function(){return!this.languageOfAnnotation_},print:function(a){a.string(this.languageOfAnnotation_)},parse:function(a){this.languageOfAnnotation_=a}},domainRestricted:{suppress:function(){return null==this.domainRestricted_},print:function(a){a.booleanValue(this.domainRestricted())},
parse:function(a){this.setDomainRestricted(a)}}}};var F=function(){this.mapKeyToValue_={}},dc={};x(F,A);d=F.prototype;d.add=function(a,b){this.mapKeyToValue_[a]=b};d.addAll=function(a){for(var b in a.mapKeyToValue_)this.add(b,a.mapKeyToValue_[b])};d.print=function(a){return a.printKeyValuePairs(this.mapKeyToValue_)};d.parseFromObject=function(a){for(var b in a){var c=a[b],e=typeof c;"string"==e?this.mapKeyToValue_[b]=c:"object"==e&&(e=dc[b])&&(e=e(),e.parseFromObject(c),this.mapKeyToValue_[b]=e)}};
d.parseFromInput=function(a){"string"==typeof a?this.parseFromString(a):this.parseFromObject(a)};d.parseFromString=function(a){a=a.split(",");for(var b=0;b<a.length;++b){var c=a[b],e=c.split(":");2==e.length&&(c=ja(e[0]),e=ja(e[1]),this.mapKeyToValue_[c]=e)}};var ec=function(){this.data_=[];this.weights_=[]};d=ec.prototype;d.isMember=function(a){for(var b=0;b<this.data_.length;++b)if(this.data_[b]==a)return!0;return!1};d.getLabelWeight=function(a){for(var b=0;b<this.data_.length;++b)if(this.data_[b]==a)return this.weights_[b];return null};d.setLabelWeight=function(a,b){for(var c=0;c<this.data_.length;++c)if(this.data_[c]==a)return this.weights_[c]=b,!1;this.data_.push(a);this.weights_.push(b);return!0};d.size=function(){return this.data_.length};
d.add=function(a){if(this.isMember(a))return!1;this.data_.push(a);this.weights_.push(100);return!0};d.remove=function(a){for(var b=0;b<this.data_.length;++b)if(this.data_[b]==a){for(a=b+1;a<this.data_.length;)this.data_[b]=this.data_[a],this.weights_[b]=this.weights_[a],++b,++a;this.data_.pop();this.weights_.pop();return!0}return!1};d.addSet=function(a){for(var b=!1,c=0;c<a.data_.length;++c)this.setLabelWeight(a.data_[c],a.weights_[c])&&(b=!0);return b};
d.removeSet=function(a){var b=!1,c;for(c in a.map_)this.remove(c)&&(b=!0);return b};d.removeAll=function(){this.data_=[];this.weights_=[]};d.copyFrom=function(a){this.removeAll();this.addSet(a)};d.toArray=function(){for(var a=[],b=0;b<this.data_.length;++b)a.push(this.data_[b]);return a};d.addArray=function(a){for(var b=0;b<a.length;++b)this.add(a[b])};d.print=function(a){a.stringArray(this.data_);return a.buffer()};
d.allWeightsArePositive=function(){for(var a=0;a<this.weights_.length;++a)if(0>this.weights_[a])return!1;return!0};d.setWeightArray=function(a){if(a.length!=this.data_.length)return!1;for(var b=0;b<this.data_.length;++b)this.weights_[b]=a[b]};d.weightArray=function(){for(var a=[],b=0;b<this.weights_.length;++b)a.push(this.weights_[b]);return a};var G=function(){this.map_={};this.size_=0};d=G.prototype;d.isMember=function(a){return!!this.map_[a]};d.size=function(){return this.size_};d.add=function(a){if(this.isMember(a))return!1;this.map_[a]=!0;++this.size_;return!0};d.remove=function(a){if(!this.isMember(a))return!1;delete this.map_[a];--this.size_;return!0};d.addSet=function(a){var b=!1,c;for(c in a.map_)this.add(c)&&(b=!0);return b};d.removeSet=function(a){var b=!1,c;for(c in a.map_)this.remove(c)&&(b=!0);return b};
d.removeAll=function(){this.map_={};this.size_=0};d.copyFrom=function(a){this.removeAll();this.addSet(a)};d.toArray=function(){var a=[],b;for(b in this.map_)a.push(b);return a};d.addArray=function(a){for(var b=0;b<a.length;++b)this.add(a[b])};d.print=function(a){var b=this.toArray();a.stringArray(b);return a.buffer()};var fc=function(){this.map_={};this.keys_=[]};d=fc.prototype;d.removeAll=function(){this.map_={};this.keys_=[]};d.addAll=function(a){var b=this;a.forEachEntry(function(a,e){b.add(a,e)})};d.add=function(a,b){var c=this.map_[a];this.map_[a]=b;void 0==c&&this.keys_.push(a)};d.remove=function(a){var b=this.map_[a];if(void 0!=b)for(delete this.map_[a],b=0;b<this.keys_.length;++b)if(this.keys_[b]==a){this.keys_.splice(b,1);break}};d.value=function(a){return this.map_[a]};d.size=function(){return this.keys_.length};
d.key=function(a){return this.keys_[a]};d.forEachEntry=function(a){for(var b=0;b<this.size();++b){var c=this.key(b),e=this.value(c);a(c,e)}};d.findFirst=function(a){for(var b=null,c=0;!b&&c<this.size();++c){var e=this.key(c),g=this.value(e);a(e,g)&&(b=g)}return b};d.parseFromArray=function(a,b){for(var c=0;c<a.length;++c){var e=a[c],g=e[b.key],e=e[b.value],h=b.factory();h.parseFromObject(e);this.add(g,h)}};var H=function(){fc.call(this)};x(H,fc);H.prototype.addAll=function(a){var b=this;a.forEachEntry(function(a,e){for(var g=0;g<e.length;++g)b.add(a,e[g])})};H.prototype.add=function(a,b){var c=this.value(a);c||(c=[],H.superClass_.add.call(this,a,c));c.push(b)};H.prototype.remove=function(a,b){var c=this.value(a);if(c){var e;a:{for(e=0;e<c.length;++e)if(c[e]==b)break a;e=-1}0>e||c.splice(e,1)}};var gc=function(){this.mapEventNameToListeners_=new H};d=gc.prototype;d.numListeners=function(a){return(a=this.mapEventNameToListeners_.value(a))?a.length:0};d.addListener=function(a,b,c){this.mapEventNameToListeners_.add(a,b);c&&this.notifyImmediately_(b,a)};d.removeListener=function(a,b){this.mapEventNameToListeners_.remove(a,b)};d.removeAllListeners=function(){this.mapEventNameToListeners_.removeAll()};d.add=function(a){this.mapEventNameToListeners_.addAll(a.mapEventNameToListeners_)};
d.notifyListeners=function(a,b){var c=this.mapEventNameToListeners_.value(a);if(c)for(var e=0;e<c.length;++e)c[e](b)};d.notifyImmediately_=function(){};var I=function(){this.eventNotifier_=new gc;this.attributes_=null;this.urgent_=!1};x(I,A);d=I.prototype;d.entity=function(){};d.updateEventName=function(){};d.clone=function(){};d.add=function(a){this.eventNotifier_.add(a.eventNotifier_);a.urgent()&&(this.urgent_=a.urgent());a.attributes_&&this.addAttributes(a.attributes_)};d.copyFrom=function(a){this.eventNotifier_.removeAllListeners();this.eventNotifier_.add(a.eventNotifier_);this.urgent_=a.urgent();a.attributes_&&this.addAttributes(a.attributes_)};
d.addListener=function(a,b,c){this.eventNotifier_.addListener(a,b,c)};d.removeListener=function(a,b){this.eventNotifier_.removeListeners(a,b)};d.notifyListeners=function(a,b){this.eventNotifier_.notifyListeners(a,b)};d.addAttributes=function(a){this.attributes_||(this.attributes_=new F);this.attributes_.addAll(a)};d.urgent=function(){return this.urgent_};
d.dictionary_=function(){return{attributes:{suppress:function(){return!this.attributes_},print:function(a){this.attributes_.print(a)},parse:function(a){this.attributes_=new F;this.attributes_.parseFromObject(a)}},urgent:{print:function(a){a.booleanValue(this.urgent_)},parse:function(a){this.urgent_=Boolean(a)}}}};var hc=function(a){I.call(this);this.entity_=a||new C;this.timestamp_=null;this.labelsToAdd_=new ec;this.labelsToRemove_=new G;this.originalStarred_=this.starred_=null;this.originalRating_=this.rating_=-1;this.entityMetadata_=this.aggregateData_=this.originalComment_=this.comment_=this.originalTitle=this.title_=null};x(hc,I);d=hc.prototype;d.entity=function(){return this.entity_};d.updateEventName=function(){return"annotationRequest"};d.title=function(){return this.title_};d.starred=function(){return this.starred_};
d.comment=function(){return this.comment_};d.addLabel=function(a){this.labelsToAdd_.add(a)};d.addLabels=function(a){this.labelsToAdd_.addArray(a)};d.removeLabels=function(a){this.labelsToRemove_.addArray(a)};d.setRating=function(a){return this.rating_=a};d.rating=function(){return this.rating_};d.setOriginalRating=function(a){this.originalRating_=a};d.originalRating=function(){return this.originalRating_};d.setTitle=function(a){return this.title_=a};d.setComment=function(a){return this.comment_=a};
d.clone=function(){var a=new hc;a.copyFrom(this);return a};d.copyFrom=function(a){this.superClass_.copyFrom.call(this,a);this.entity_.copyFrom(a.entity_);this.labelsToAdd_.copyFrom(a.labelsToAdd_);this.labelsToRemove_.copyFrom(a.labelsToRemove_);this.starred_=a.starred_;this.originalStarred_=a.originalStarred_;this.rating_=a.rating_;this.originalRating_=a.originalRating_;this.title_=a.title_;this.originalTitle_=a.originalTitle_;this.comment_=a.comment_;this.originalComment_=a.originalComment_};
d.add=function(a){this.superClass_.add.call(this,a);for(var b=a.labelsToAdd_.toArray(),c=0;c<b.length;++c){var e=b[c];this.labelsToRemove_.isMember(e)?this.labelsToRemove_.remove(e):this.labelsToAdd_.setLabelWeight(e,a.labelsToAdd_.getLabelWeight(e))}b=a.labelsToRemove_.toArray();for(c=0;c<b.length;++c)e=b[c],this.labelsToAdd_.isMember(e)?this.labelsToAdd_.remove(e):this.labelsToRemove_.add(e);z(a.starred_)||(this.starred_=a.starred_);0<=a.rating_&&(this.rating_=a.rating_);a.title_&&(this.title_=
a.title_);a.comment_&&(this.comment_=a.comment_)};
d.dictionary_=function(){return{entity:{print:function(a){this.entity().print(a)},parse:function(a){this.entity().parseFromObject(a)}},starred:{suppress:function(){return z(this.starred_)},print:function(a){a.booleanValueOrNull(this.starred_)},parse:function(a){this.starred_=Lb(a,!1)}},timestamp:{suppress:function(){return!this.timestamp_},print:function(a){a.hashValue(this.timestamp_)},parse:function(a){this.timestamp_=a}},labels:{suppress:function(){return 0==this.labelsToAdd_.size()},print:function(a){this.labelsToAdd_.print(a)},
parse:function(a){this.addLabels(a)}},labelsWeightPercent:{suppress:function(){return this.labelsToAdd_.allWeightsArePositive()},print:function(a){a.numberArray(this.labelsToAdd_.weightArray())},parse:function(a){this.labelsToAdd_.setWeightArray(a)}},removeLabels:{print:function(a){this.labelsToRemove_.print(a)},parse:function(a){this.removeLabels(a)}},starRating:{print:function(a){a.hashValue(this.rating_)},parse:function(a){this.rating_=a}},originalRating:{print:function(a){a.hashValue(this.originalRating_)},
parse:function(a){this.originalRating_=a}},title:{print:function(a){a.string(this.title_)},parse:function(a){this.title_=a}},originalTitle:{print:function(a){a.string(this.originalTitle_)},parse:function(a){this.originalTitle_=a}},comment:{print:function(a){a.string(this.comment_)},parse:function(a){this.comment_=a}},language:{suppress:function(){return!D().languageOfAnnotation()},print:function(a){a.string("fr")},parse:function(){}},aggregateInfo:{suppress:function(){return!this.aggregateData_},
print:function(a){this.aggregateData_.print(a)},parse:function(a){this.aggregateData_=new ic(this.entity_);this.aggregateData_.parseFromObject(a)}},metadata:{suppress:function(){return!this.entityMetadata_},print:function(a){this.entityMetadata_.print(a)},parse:function(a){this.entityMetadata_=new jc;this.entityMetadata_.parseFromObject(a)}}}};var kc=function(a,b){this.rating_=a?a:0;this.count_=b?b:0};x(kc,A);kc.prototype.rating=function(){return this.rating_};kc.prototype.count=function(){return this.count_};kc.prototype.dictionary_=function(){return{rating:{print:function(a){a.number(this.rating_)},parse:function(a){this.rating_=a}},count:{print:function(a){a.number(this.count_)},parse:function(a){this.count_=a}}}};var lc=function(){this.count_=[];for(var a=0;5>a;++a)this.count_[a]=0};x(lc,A);d=lc.prototype;
d.copyFrom=function(a){for(var b=0;5>b;++b)this.count_[b]=a.count_[b]};d.clone=function(){var a=new lc;a.copyFrom(this);return a};d.isInRange_=function(a){return 1<=a&&5>=a};d.count=function(a){return this.isInRange_(a)?this.count_[a-1]:0};d.totalCount=function(){for(var a=0,b=0;5>b;++b)a+=this.count_[b];return a};d.totalRatingsInInterval=function(a,b){for(var c=0,e=a;e<=b;++e)c+=this.count(e);return c};d.totalRating=function(){for(var a=0,b=0;5>b;++b)a+=this.count_[b]*(b+1);return a};
d.average=function(){var a=this.totalCount();if(0==a)return-1;var b=this.totalRating();return b/a};d.setRating=function(a,b){this.isInRange_(a)&&(this.count_[a-1]=b)};d.applyUpdate=function(a){if(0>a.rating()||0>a.originalRating())return!1;if(0<a.originalRating()){var b=this.count(a.originalRating());this.setRating(a.originalRating(),b-1)}0<a.rating()&&(b=this.count(a.rating()),this.setRating(a.rating(),b+1));return!0};
d.addEntries=function(a){for(var b=0;b<a.length;++b){var c=new kc;c.parseFromObject(a[b]);this.isInRange_(c.rating())&&(this.count_[c.rating()-1]=c.count())}};d.addEntriesFromStringList=function(a){var b=[];a=a.split(",");for(var c=1;5>=c&&c<=a.length;){var e={};e.rating=c;e.count=Number(a[c-1]);b.push(e);++c}this.addEntries(b)};d.parseFromObject=function(a){"string"==typeof a?this.addEntriesFromStringList(a):this.addEntries(a)};
d.print=function(a){a.openArray();a.newLine();a.tab();for(var b=0;5>b;++b){0<b&&(a.listSeparator(),a.newLine());var c=new kc(b+1,this.count_[b]);c.print(a)}a.closeArray();a.unTab();return a.buffer()};var mc=function(a,b,c){this.map_=new fc;this.name_=a;this.factory_=b;this.keyExtractor_=c};d=mc.prototype;d.name=function(){return this.name_};d.add=function(a){var b=this.keyExtractor_(a);this.map_.add(b,a)};d.remove=function(a){this.map_.remove(a)};d.value=function(a){return this.map_.value(a)};d.size=function(){return this.map_.size()};d.removeAll=function(){this.map_.removeAll()};d.addAll=function(a){this.map_.addAll(a.map_)};d.forEachEntry=function(a){this.map_.forEachEntry(a)};d.findFirst=function(a){return this.map_.findFirst(a)};
d.print=function(a,b){var c=b||function(a,b){b.print(a)};a.openArray();a.newLine();a.tab();var e=!1;this.forEachEntry(function(b,h){e&&(a.listSeparator(),a.newLine());c(a,h);e=!0});a.closeArray();a.unTab()};d.parseFromArray=function(a){for(var b=0;b<a.length;++b){var c=new this.factory_;c.parseFromObject(a[b]);this.add(c)}};var nc=function(){this.text_=null;this.count_=-1};x(nc,A);nc.prototype.dictionary_=function(){return{label:{print:function(a){a.string(this.text_)},parse:function(a){this.text_=a}},count:{print:function(a){a.number(this.count_)},parse:function(a){this.count_=a}}}};var oc=function(a){mc.call(this,a,nc,function(a){return a.text_})};x(oc,mc);oc.prototype.copyFrom=function(a){this.removeAll();this.addAll(a)};oc.prototype.addTextWithCount=function(a,b){var c=new nc;c.text_=a;c.count_=b;this.add(c)};
oc.prototype.parseFromObject=function(a){this.parseFromArray(a)};var ic=function(a){this.entity_=a||new C;this.ratingHistogram_=new lc;this.labelHistogram_=new oc("labelHistogram")};x(ic,A);d=ic.prototype;d.entity=function(){return this.entity_};d.copyFrom=function(a){this.entity_.copyFrom(a.entity_);this.ratingHistogram_.copyFrom(a.ratingHistogram_);this.labelHistogram_.copyFrom(a.labelHistogram_)};d.ratings=function(){return this.ratingHistogram_};d.labels=function(){return this.labelHistogram_};
d.addLabel=function(a,b){this.labelHistogram_.addTextWithCount(a,b)};d.addLabels=function(a){for(var b=0;b<a.length;++b)this.addLabel(a[b][0],a[b][1])};d.applyUpdate=function(a){a.aggregateData_?this.copyFrom(a.aggregateData_):this.ratings()&&this.ratingHistogram_.applyUpdate(a)};
d.dictionary_=function(){return{entity:{print:function(a){this.entity_.print(a)},parse:function(a){this.entity_.parseFromObject(a)}},labels:{print:function(a){this.labelHistogram_.print(a)},parse:function(a){this.labelHistogram_.parseFromObject(a)}},starRatings:{print:function(a){this.ratingHistogram_.print(a)},parse:function(a){this.ratingHistogram_.parseFromObject(a)}}}};var jc=function(a){this.entity_=a||new C;this.labels_=[]};x(jc,A);jc.prototype.dictionary_=function(){return{entity:{print:function(a){this.entity_.print(a)},parse:function(a){this.entity_.parseFromObject(a)}},labels:{suppress:function(){return 0==this.labels_.length},print:function(a){a.stringArray(this.labels_)},parse:function(a){this.labels_="string"==typeof a?a.split(","):a}}}};var pc=function(){};x(pc,A);pc.prototype.applyUpdate=function(){};var qc=function(a){return null!==a&&void 0!==a&&"string"==typeof a?!0:!1};var rc=function(a){this.entity_=a||new C;this.starred_=this.timestamp_=null;this.starRating_=-1;this.labelSet_=new ec;this.replaceAllLabels_=this.comment_=this.title_=null;this.attributes_=void 0;this.entityMetadata_=this.aggregateData_=null};x(rc,pc);d=rc.prototype;d.entity=function(){return this.entity_};d.setEntity=function(a){this.entity_=a};d.starred=function(){return this.starred_};d.timestamp=function(){return this.timestamp_};d.setTimestamp=function(a){this.timestamp_=a};d.rating=function(){return this.starRating_};
d.setRating=function(a){this.starRating_=a};d.title=function(){return this.title_};d.setTitle=function(a){this.title_=a};d.comment=function(){return this.comment_};d.setComment=function(a){this.comment_=a};d.addAttributes=function(a){this.attributes_||(this.attributes_=new F);this.attributes_.addAll(a)};d.aggregateData=function(){this.aggregateData_||(this.aggregateData_=new ic(this.entity_));return this.aggregateData_};
d.applyUpdate=function(a){a.timestamp_&&(this.timestamp_=a.timestamp_);null!=a.starred()&&(this.starred_=a.starred());this.labelSet_.addSet(a.labelsToAdd_);this.labelSet_.removeSet(a.labelsToRemove_);a.labelsToRemove_.size()&&(this.replaceAllLabels_=!0);0<=a.rating()&&this.setRating(a.rating());a.title()&&this.setTitle(a.title());(a.comment()||""==a.comment())&&this.setComment(a.comment());a.attributes_&&this.addAttributes(a.attributes_);(this.aggregateData_||a.aggregateData_)&&this.aggregateData().applyUpdate(a);
a.entityMetadata_&&(this.entityMetadata_=a.entityMetadata_)};
d.dictionary_=function(){return{entity:{print:function(a){this.entity().print(a)},parse:function(a){this.entity().parseFromObject(a)}},starred:{suppress:function(){return z(this.starred_)},print:function(a){a.booleanValue(this.starred_)},parse:function(a){this.starred_=!!Lb(a,!1)}},timestamp:{suppress:function(){return!this.timestamp_},print:function(a){a.hashValue(this.timestamp_)},parse:function(a){this.setTimestamp(a)}},title:{suppress:function(){return!this.title_},print:function(a){a.string(this.title_)},
parse:function(a){qc(a)&&this.setTitle(a)}},comment:{suppress:function(){return null==this.comment_},print:function(a){a.string(this.comment())},parse:function(a){qc(a)&&this.setComment(a)}},language:{suppress:function(){return!D().languageOfAnnotation()},print:function(a){a.string(D().languageOfAnnotation())},parse:function(){}},starRating:{suppress:function(){return 0>this.starRating_},print:function(a){a.hashValue(this.starRating_)},parse:function(a){var b;b=a;var c;c=b;(b=(c=null!==c&&void 0!==
c&&"number"==typeof c?!0:!1)?0>b?!1:!0:!1)&&this.setRating(a)}},labels:{suppress:function(){return 0==this.labelSet_.size()},print:function(a){this.labelSet_.print(a)},parse:function(a){this.labelSet_.addArray(a)}},labelsWeightPercent:{suppress:function(){return this.labelSet_.allWeightsArePositive()},print:function(a){a.numberArray(this.labelSet_.weightArray())},parse:function(a){this.labelSet_.setWeightArray(a)}},replaceAllLabels:{suppress:function(){return z(this.replaceAllLabels_)},print:function(a){a.booleanValue(this.replaceAllLabels_)},
parse:function(a){this.replaceAllLabels_=!!Lb(a,!1)}},attributes:{suppress:function(){return!this.attributes_},print:function(a){this.attributes_.print(a)},parse:function(a){this.attributes_=new F;this.attributes_.parseFromObject(a)}},aggregateInfo:{suppress:function(){return!this.aggregateData_},print:function(a){this.aggregateData_.print(a)},parse:function(a){this.aggregateData_=new ic;this.aggregateData_.parseFromObject(a)}},metadata:{suppress:function(){return!this.entityMetadata_},print:function(a){this.entityMetadata_.print(a)},
parse:function(a){this.entityMetadata_=new jc;this.entityMetadata_.parseFromObject(a)}}}};var sc=function(){this.entity_=null;this.includeAggregateInfo_=!1;this.labelHistogramSize_=-1;this.weightedLabelHistogram_=this.includeMetadata_=!1};x(sc,A);d=sc.prototype;d.setEntity=function(a){this.entity_=a};d.setIncludeAggregateInfo=function(a){this.includeAggregateInfo_=a};d.setLabelHistogramSize=function(a){this.labelHistogramSize_=a};d.setIncludeMetadata=function(a){this.includeMetadata_=a};d.setWeightedLabelHistogram=function(a){this.weightedLabelHistogram_=a};
d.printFields=function(a){a.printObjectFields(this.entity_,this.entity_.dictionary_());a.listSeparator();a.newLine();a.printObjectFields(this,this.includeExtraInfoDictionary_())};
d.includeExtraInfoDictionary_=function(){return{includeAggregateInfo:{suppress:function(){return!this.includeAggregateInfo_},print:function(a){a.booleanValue(this.includeAggregateInfo_)},parse:function(a){this.includeAggregateInfo_=new Boolean(a)}},labelHistogramSize:{print:function(a){a.number(this.labelHistogramSize_)},parse:function(a){this.labelHistogramSize_=Number(a)}},includeMetadata:{suppress:function(){return!this.includeMetadata_},print:function(a){a.booleanValue(this.includeMetadata_)},
parse:function(a){this.includeMetadata_=new Boolean(a)}},weightedLabelHistogram:{suppress:function(){return!this.weightedLabelHistogram_},print:function(a){a.booleanValue(this.weightedLabelHistogram_)},parse:function(a){this.weightedLabelHistogram_=new Boolean(a)}}}};var J=function(){this.errorCode_=this.status_=0},tc={};J.prototype.status=function(){return this.status_};J.prototype.errorCode=function(){return this.errorCode_};
J.prototype.initFromRequestStatus=function(a,b,c){if(b==K.STATUS.TIMEOUT)this.status_=1;else if(b==K.STATUS.INTERNAL_ERROR)this.status_=tc.INTERNAL_ERROR,this.errorCode_=c;else if(b==K.STATUS.SERVER_RESPONSE_IS_NOT_JSON)this.status_=3;else if(a)if(a=a.channelHeader)if("object"!=typeof a)this.status_=J.CHANNEL_HEADER_IS_NOT_AN_OBJECT;else{if(a=a.errorCode)this.status_=2,this.errorCode_=a}else this.status_=J.NO_CHANNEL_HEADER_IN_RESPONSE;else this.status_=J.CANNOT_INTERPRET_RESPONSE_FROM_SERVER};var K=function(){};K.STATUS={SUCCESS:0,FAILURE:1,TIMEOUT:2,INTERNAL_ERROR:3,SERVER_RESPONSE_IS_NOT_JSON:4};K.prototype.send=function(){};var L=function(){this.arguments_={};this.url_=null;this.trialsRemaining_=5;this.timeout_=4E3;this.delayBetweenRetries_=500};x(L,A);var uc=null;d=L.prototype;d.setArgument=function(a,b){this.arguments_[a]=b};d.pushArguments=function(a){for(var b in this.arguments_)a.push(b+"="+Db(this.arguments_[b]))};d.setUrl=function(a){this.url_=a};d.url=function(){return this.url_};d.setTrialsRemaining=function(a){this.trialsRemaining_=a};d.setTimeout=function(a){this.timeout_=a};d.timeout=function(){return this.timeout_};
d.resendAfterDelay_=function(a,b){var c=this.delayBetweenRetries_;this.delayBetweenRetries_*=2;window.setTimeout(l(this.send,this,a,b),c)};d.resendTillNoTimeout_=function(a,b,c,e){1==e.status()?0<this.trialsRemaining_?this.resendAfterDelay_(a,b):b(c,e):2==e.status()?"7"==e.errorCode()&&0<this.trialsRemaining_?this.resendAfterDelay_(a,b):b(c,e):(0==e.status()&&(a=c.channelHeader)&&(a=a.token)&&(uc=a),b(c,e))};
d.send=function(a,b){this.trialsRemaining_--;a.send(this,l(this.resendTillNoTimeout_,this,a,b))};d.dictionary_=function(){return{applicationId:{suppress:function(){return null==D().applicationId()},print:function(a){a.number(D().applicationId())},parse:function(){}},domainRestricted:{suppress:function(){return null==D().domainRestricted()},print:function(a){a.booleanValue(D().domainRestricted())},parse:function(){}}}};var vc=function(){L.call(this)};x(vc,L);var xc=function(a){a=a.match(wc);this.path_=decodeURIComponent(a[5]||"")},wc=/^(?:([^:/?#]+):)?(?:\/\/(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;var yc=function(){},zc=null,Ac=function(){zc||(zc=new yc);zc.constructRelativePathPrefix_(document.URL);return zc};
yc.prototype.constructRelativePathPrefix_=function(a){a=new xc(a);a=a.path_;var b=null;(b="/a/reviews/"==a.substr(0,11)?a.match(/^\/a\/reviews\/((?:macros\/)?[^/]+)/)[1]:"/a/"==a.substr(0,3)?a.match(/^\/a\/((?:macros\/)?[^/]+)/)[1]:D().dasherDomain_)&&(b.match(/^[a-z0-9-_.]+$/i)||b.match(/^macros\/[a-z0-9-_.]+$/i))?this.relativePathPrefix_="/a/reviews/"+b+"/json":this.relativePathPrefix_="/reviews/json"};
yc.prototype.paths=function(){return{lookupJSON:this.relativePathPrefix_+"/lookup",lookupAggregatesJSON:this.relativePathPrefix_+"/aggregates",writeAnnotationsJSON:this.relativePathPrefix_+"/write",deleteAnnotationsJSON:this.relativePathPrefix_+"/delete",writeAbuseReportJSON:this.relativePathPrefix_+"/abuse/write",abuseReportJSON:this.relativePathPrefix_+"/report",authenticationTokenJSON:this.relativePathPrefix_+"/token",searchAnnotationsJSON:this.relativePathPrefix_+"/search"}};var Bc=function(){L.call(this);this.fetchSpecificationArray_=[];this.setUrl(Ac().paths().lookupJSON);this.setTrialsRemaining(2);this.setTimeout(3E3)};x(Bc,vc);Bc.prototype.addUpdate=function(a){var b=a.entity();if(b.isLookupable()){var c=new sc;c.setEntity(b);a.includeAggregateInfo()&&c.setIncludeAggregateInfo(!0);c.setLabelHistogramSize(a.labelHistogramSize());a.includeMetadata()&&c.setIncludeMetadata(!0);a.weightedLabelHistogram()&&c.setWeightedLabelHistogram(!0);this.fetchSpecificationArray_.push(c)}};
Bc.prototype.dictionary_=function(){return{entities:{suppress:function(){return 0==this.fetchSpecificationArray_.length},print:function(a){a.objectArray(this.fetchSpecificationArray_)},parse:function(a){this.fetchSpecificationArray_=B(a,sc)}},applicationId:{suppress:function(){return null==D().applicationId()},print:function(a){a.number(D().applicationId())},parse:function(){}}}};var Cc=function(a){I.call(this);this.entity_=a||new C;this.includeAggregateInfo_=!1;this.labelHistogramSize_=-1;this.weightedLabelHistogram_=this.includeMetadata_=!1};x(Cc,I);d=Cc.prototype;d.entity=function(){return this.entity_};d.updateEventName=function(){return"fetchRequest"};d.includeAggregateInfo=function(){return this.includeAggregateInfo_};d.setIncludeAggregateInfo=function(a){this.includeAggregateInfo_=a};d.labelHistogramSize=function(){return this.labelHistogramSize_};
d.setLabelHistogramSize=function(a){this.labelHistogramSize_=a};d.includeMetadata=function(){return this.includeMetadata_};d.setIncludeMetadata=function(a){this.includeMetadata_=a};d.weightedLabelHistogram=function(){return this.weightedLabelHistogram_};d.setWeightedLabelHistogram=function(a){this.weightedLabelHistogram_=a};d.clone=function(){var a=new Cc;a.copyFrom(this);return a};
d.copyFrom=function(a){this.superClass_.copyFrom.call(this,a);this.entity_.copyFrom(a.entity_);this.includeAggregateInfo_=a.includeAggregateInfo();this.labelHistogramSize_=a.labelHistogramSize();this.includeMetadata_=a.includeMetadata();this.weightedLabelHistogram_=a.weightedLabelHistogram()};
d.add=function(a){this.superClass_.add.call(this,a);this.includeAggregateInfo_||(this.includeAggregateInfo_=a.includeAggregateInfo());-1==this.labelHistogramSize_&&(this.labelHistogramSize_=a.labelHistogramSize());this.includeMetadata_||(this.includeMetadata_=a.includeMetadata());this.weightedLabelHistogram_||(this.weightedLabelHistogram_=a.weightedLabelHistogram())};var Ec=function(){this.entity_=null;this.category_=4;this.language_=this.comment_=this.abuseCategory_=null;this.requestId_=Dc++};x(Ec,A);var Dc=0;d=Ec.prototype;d.entity=function(){return this.entity_};d.setEntity=function(a){this.entity_=a};d.category=function(){return this.category_};d.setCategory=function(a){this.category_=a};d.abuseCategory=function(){return this.abuseCategory_};d.setAbuseCategory=function(a){this.abuseCategory_=a};d.comment=function(){return this.comment_};
d.setComment=function(a){this.comment_=a};d.language=function(){return this.language_};d.setLanguage=function(a){this.language_=a};
d.dictionary_=function(){return{entity:{print:function(a){this.entity_.print(a)},parse:function(a){this.entity_.parseFromObject(a)}},category:{print:function(a){a.number(this.category())},parse:function(a){this.setCategory(a)}},abuseCategory:{print:function(a){a.string(this.abuseCategory())},parse:function(a){this.setAbuseCategory(a)}},comment:{suppress:function(){return!this.comment()},print:function(a){a.string(this.comment())},parse:function(a){this.setComment(a)}},language:{suppress:function(){return!this.language()},
print:function(a){a.string(this.language())},parse:function(a){this.setLanguage(a)}},requestId:{suppress:function(){return!1},print:function(a){a.number(this.requestId_)},parse:function(){}}}};var Fc=function(){L.call(this);this.setUrl(Ac().paths().authenticationTokenJSON)};x(Fc,vc);var Gc=function(){L.call(this)};x(Gc,L);Gc.prototype.send=function(a,b){var c=new Fc;c.send(a,l(this.processTokenResponse_,this,a,b))};Gc.prototype.processTokenResponse_=function(a,b,c,e){0!=e.status()?b(c,e):(c=uc,this.setArgument("token",c),Gc.superClass_.send.call(this,a,b))};var Hc=function(){L.call(this);this.abuseReportArray_=[];this.applicationId_=1;this.setUrl(Ac().paths().abuseReportJSON);this.setTrialsRemaining(1)};x(Hc,Gc);Hc.prototype.addAbuseReport=function(a){this.abuseReportArray_.push(a)};Hc.prototype.dictionary_=function(){return{Report:{suppress:function(){return 0==this.abuseReportArray_.length},print:function(a){a.objectArray(this.abuseReportArray_)},parse:function(a){this.abuseReportArray_=B(a,Ec)}}}};var Ic=function(){this.authenticated_=!1;this.id_=this.email_=null};x(Ic,A);var Jc=null,Kc=function(){Jc||(Jc=new Ic);return Jc};Ic.prototype.reset=function(){this.authenticated_=!1;this.id_=this.email_=null};
Ic.prototype.dictionary_=function(){return{isAuthenticated:{print:function(a){a.booleanValue(this.authenticated_)},parse:function(a){this.authenticated_=a}},email:{print:function(a){a.hashValue(this.email_)},parse:function(a){this.email_=a}},id:{print:function(a){a.string(this.id_)},parse:function(a){this.id_=a}}}};var Lc=function(a){this.searchEntity_=a||new $b;this.restrictToApplicationId_=null;this.requireComment_=!0;this.authors_=new G;this.entities_=[];this.groups_=new G;this.ascendingOrder_=this.sortBy_=this.matchExtraGroups_=null;this.numResults_=this.startIndex_=-1;this.userFeedbackRestrict_=this.moderatorId_=this.language_=this.comparisonType_=this.qualityScore_=this.includeNickNames_=this.maxTimestamp_=this.minTimestamp_=this.continuationTokenInResponse_=this.continuationToken_=null;this.user_=Kc();
this.updateLists_=[]};x(Lc,pc);d=Lc.prototype;d.user=function(){return this.user_};d.addUpdateList=function(a){this.updateLists_.push(a)};d.result=function(a){return this.updateLists_[a]};d.entity=function(){return this.searchEntity_};
d.applyUpdate=function(a){a.restrictToApplicationId_&&(this.restrictToApplicationId_=a.restrictToApplicationId_);a.requireComment()&&(this.requireComment_=a.requireComment());this.authors_.addSet(a.authorsToAdd_);this.authors_.removeSet(a.authorsToRemove_);for(var b={},c=0;c<a.entitiesToAdd_.length;c++){var e=a.entitiesToAdd_[c],g=e.url();b[g]||(this.entities_.push(e),b[g]=!0)}this.groups_.addSet(a.groupsToAdd_);this.groups_.removeSet(a.groupsToRemove_);z(a.matchExtraGroups())||(this.matchExtraGroups_=
a.matchExtraGroups());a.sortBy()&&(this.sortBy_=a.sortBy());z(a.ascendingOrder())||(this.ascendingOrder_=a.ascendingOrder());0<=a.startIndex()&&(this.startIndex_=a.startIndex());0<=a.numResults()&&(this.numResults_=a.numResults());a.continuationToken()&&(this.continuationToken_=a.continuationToken());a.continuationTokenInResponse_&&(this.continuationTokenInResponse_=a.continuationTokenInResponse_);a.minTimestamp()&&(this.minTimestamp_=a.minTimestamp());a.maxTimestamp()&&(this.maxTimestamp_=a.maxTimestamp());
z(a.includeNickNames())||(this.includeNickNames_=a.includeNickNames());a.qualityScore()&&(this.qualityScore_=a.qualityScore());a.comparisonType()&&(this.comparisonType_=a.comparisonType());a.language()&&(this.language_=a.language());a.moderatorId()&&(this.moderatorId_=a.moderatorId());a.userFeedbackRestrict_&&(this.userFeedbackRestrict_=a.userFeedbackRestrict_)};
d.dictionary_=function(){return{applicationId:{suppress:function(){return!this.restrictToApplicationId_},print:function(a){a.number(this.restrictToApplicationId_)},parse:function(a){this.restrictToApplicationId_=Number(a)}},requireComment:{suppress:function(){return z(this.requireComment_)},print:function(a){a.booleanValue(this.requireComment_)},parse:function(a){this.requireComment_=Boolean(a)}},authors:{suppress:function(){return 0==this.authors_.size()},print:function(a){this.authors_.print(a)},
parse:function(a){this.authors_.addArray(a)}},entities:{suppress:function(){return 0==this.entities_.length},print:function(a){a.objectArray(this.entities_)},parse:function(a){this.entities_=B(a,C)}},groups:{suppress:function(){return 0==this.groups_.size()},print:function(a){this.groups_.print(a)},parse:function(a){this.groups_.addArray(a)}},matchExtraGroups:{suppress:function(){return!this.matchExtraGroups_},print:function(a){a.booleanValue(this.matchExtraGroups_)},parse:function(a){this.matchExtraGroups_=
Boolean(a)}},sortBy:{suppress:function(){return"lastModificationDate"==this.sortBy_},print:function(a){a.string(this.sortBy_)},parse:function(a){this.sortBy_=a}},ascendingOrder:{suppress:function(){return!this.ascendingOrder_},print:function(a){a.booleanValue(this.ascendingOrder_)},parse:function(a){this.ascendingOrder_=Boolean(a)}},startIndex:{suppress:function(){return 0>this.startIndex_},print:function(a){a.number(this.startIndex_)},parse:function(a){this.startIndex_=Number(a)}},numResults:{suppress:function(){return 0>
this.numResults_},print:function(a){a.number(this.numResults_)},parse:function(a){this.numResults_=Number(a)}},continuationToken:{suppress:function(){return!this.continuationToken_},print:function(a){a.string(this.continuationToken_)},parse:function(a){this.continuationToken_=a}},setContinuationTokenInResponse:{suppress:function(){return!this.continuationTokenInResponse_},print:function(a){a.booleanValue(this.continuationTokenInResponse_)},parse:function(a){this.continuationTokenInResponse_=Boolean(a)}},
minTimestamp:{suppress:function(){return!this.minTimestamp_},print:function(a){a.number(this.minTimestamp_)},parse:function(a){this.minTimestamp_=Number(a)}},maxTimestamp:{suppress:function(){return!this.maxTimestamp_},print:function(a){a.number(this.maxTimestamp_)},parse:function(a){this.maxTimestamp_=Number(a)}},includeNickNames:{suppress:function(){return!this.includeNickNames_},print:function(a){a.booleanValue(this.includeNickNames_)},parse:function(a){this.includeNickNames_=Boolean(a)}},qualityScore:{suppress:function(){return!this.qualityScore_},
print:function(a){a.number(this.qualityScore_)},parse:function(a){this.qualityScore_=Number(a)}},comparisonType:{suppress:function(){return!this.comparisonType_},print:function(a){a.number(this.comparisonType_)},parse:function(a){this.comparisonType_=Number(a)}},language:{suppress:function(){return!this.language_},print:function(a){a.string(this.language_)},parse:function(a){this.language_=a}},user:{suppress:function(){return!0},parse:function(a){this.user_.reset();this.user_.parseFromObject(a)}},
moderatorId:{suppress:function(){return!this.moderatorId_},print:function(a){a.string(this.moderatorId_)},parse:function(a){this.moderatorId_=a}},UserFeedbackRestrict:{suppress:function(){return!this.userFeedbackRestrict_},print:function(a){this.userFeedbackRestrict_.print(a)},parse:function(a){this.userFeedbackRestrict_.parseFromObject(a)}}}};var Mc=function(){L.call(this);this.setUrl(Ac().paths().searchAnnotationsJSON);this.searchDataArray_=[]};x(Mc,vc);Mc.prototype.addUpdate=function(a){var b=new Lc(a.entity());b.applyUpdate(a);this.searchDataArray_.push(b)};Mc.prototype.dictionary_=function(){return{searchSpecs:{suppress:function(){return 0==this.searchDataArray_.length},print:function(a){a.objectArray(this.searchDataArray_)},parse:function(a){this.searchDataArray_=B(a,Lc)}}}};var Nc=function(a){I.call(this);this.searchEntity_=a||new $b;this.restrictToApplicationId_=null;this.requireComment_=!0;this.authorsToAdd_=new G;this.authorsToRemove_=new G;this.entitiesToAdd_=[];this.entitiesToRemove_=[];this.groupsToAdd_=new G;this.groupsToRemove_=new G;this.matchExtraGroups_=null;this.sortBy_="lastModificationDate";this.ascendingOrder_=null;this.numResults_=this.startIndex_=-1;this.userFeedbackRestrict_=this.moderatorId_=this.language_=this.comparisonType_=this.qualityScore_=this.includeNickNames_=
this.maxTimestamp_=this.minTimestamp_=this.continuationTokenInResponse_=this.continuationToken_=null};x(Nc,I);d=Nc.prototype;d.entity=function(){return this.searchEntity_};d.updateEventName=function(){return"searchRequest"};d.clone=function(){var a=new Nc;a.copyFrom(this);return a};
d.copyFrom=function(a){this.superClass_.copyFrom.call(this,a);this.searchEntity_.copyFrom(a.entity());this.authorsToAdd_.removeAll();this.authorsToAdd_.addSet(a.authorsToAdd_);this.authorsToRemove_.removeAll();this.authorsToRemove_.addSet(a.authorsToRemove_);this.entitiesToAdd_=[];this.addEntities(a.entitiesToAdd_);this.entitiesToRemove_=[];this.removeEntities(a.entitiesToRemove_);this.groupsToAdd_.removeAll();this.groupsToAdd_.addSet(a.groupsToAdd_);this.groupsToRemove_.removeAll();this.groupsToRemove_.addSet(a.groupsToRemove_);
this.restrictToApplicationId_=a.restrictToApplicationId_;this.requireComment_=a.requireComment();this.matchExtraGroups_=a.matchExtraGroups();this.sortBy_=a.sortBy();this.ascendingOrder_=a.ascendingOrder();this.startIndex_=a.startIndex();this.numResults_=a.numResults();this.continuationToken_=a.continuationToken();this.continuationTokenInResponse_=a.continuationTokenInResponse_;this.minTimestamp_=a.minTimestamp();this.maxTimestamp_=a.maxTimestamp();this.includeNickNames_=a.includeNickNames();this.qualityScore_=
a.qualityScore();this.comparisonType_=a.comparisonType();this.language_=a.language();this.moderatorId_=a.moderatorId();this.userFeedbackRestrict_=a.userFeedbackRestrict_};
d.add=function(a){this.superClass_.copyFrom.call(this,a);this.authorsToAdd_.addSet(a.authorsToAdd_);this.authorsToRemove_.addSet(a.authorsToRemove_);this.addEntities(a.entitiesToAdd_);this.removeEntities(a.entitiesToRemove_);this.groupsToAdd_.addSet(a.groupsToAdd_);this.groupsToRemove_.addSet(a.groupsToRemove_);a.restrictToApplicationId_||(this.restrictToApplicationId_=a.restrictToApplicationId_);z(a.requireComment())||(this.requireComment_=a.requireComment());z(a.matchExtraGroups())||(this.matchExtraGroups_=
a.matchExtraGroups());a.sortBy()&&(this.sortBy_=a.sortBy());z(a.ascendingOrder())||(this.ascendingOrder_=a.ascendingOrder());0<=a.startIndex()&&(this.startIndex_=a.startIndex());0<=a.numResults()&&(this.numResults_=a.numResults());a.continuationToken()&&(this.continuationToken_=a.continuationToken());a.continuationTokenInResponse_&&(this.continuationTokenInResponse_=a.continuationTokenInResponse_);a.minTimestamp()&&(this.minTimestamp_=a.minTimestamp());a.maxTimestamp()&&(this.maxTimestamp_=a.maxTimestamp());
z(a.includeNickNames())||(this.includeNickNames_=a.includeNickNames());a.qualityScore()&&(this.qualityScore_=a.qualityScore());a.comparisonType()&&(this.comparisonType_=a.comparisonType());a.language()&&(this.language_=a.language());this.moderatorId_=a.moderatorId();this.userFeedbackRestrict_=a.userFeedbackRestrict_};d.addEntity=function(a){this.entitiesToAdd_.push(a)};d.addEntities=function(a){for(var b=0;b<a.length;b++)this.addEntity(a[b])};d.removeEntity=function(a){this.entitiesToRemove_.push(a)};
d.removeEntities=function(a){for(var b=0;b<a.length;b++)this.removeEntity(a[b])};d.requireComment=function(){return this.requireComment_};d.matchExtraGroups=function(){return this.matchExtraGroups_};d.setMatchExtraGroups=function(a){this.matchExtraGroups_=a};d.sortBy=function(){return this.sortBy_};d.ascendingOrder=function(){return this.ascendingOrder_};d.startIndex=function(){return this.startIndex_};d.numResults=function(){return this.numResults_};d.continuationToken=function(){return this.continuationToken_};
d.minTimestamp=function(){return this.minTimestamp_};d.maxTimestamp=function(){return this.maxTimestamp_};d.includeNickNames=function(){return this.includeNickNames_};d.qualityScore=function(){return this.qualityScore_};d.comparisonType=function(){return this.comparisonType_};d.language=function(){return this.language_};d.setLanguage=function(a){this.language_=a};d.moderatorId=function(){return this.moderatorId_};
d.dictionary_=function(){return{applicationId:{suppress:function(){return!this.restrictToApplicationId_},print:function(a){a.number(this.restrictToApplicationId_)},parse:function(a){this.restrictToApplicationId_=Number(a)}},requireComment:{suppress:function(){return z(this.requireComment_)},print:function(a){a.booleanValue(this.requireComment_)},parse:function(a){this.requireComment_=Boolean(a)}},addAuthors:{suppress:function(){return 0==this.authorsToAdd_.size()},print:function(a){this.authorsToAdd_.print(a)},
parse:function(a){this.authorsToAdd_.addArray(a)}},removeAuthors:{suppress:function(){return 0==this.authorsToRemove_.size()},print:function(a){this.authorsToRemove_.print(a)},parse:function(a){this.authorsToRemove_.addArray(a)}},addEntities:{suppress:function(){return 0==this.entitiesToAdd_.length},print:function(a){a.objectArray(this.entitiesToAdd_)},parse:function(a){this.entitiesToAdd_=B(a,$b)}},removeEntities:{suppress:function(){return 0==this.entitiesToRemove_.length},print:function(a){a.objectArray(this.entitiesToRemove_)},
parse:function(a){this.entitiesToRemove_=B(a,$b)}},addGroups:{suppress:function(){return 0==this.groupsToAdd_.size()},print:function(a){this.groupsToAdd_.print(a)},parse:function(a){this.groupsToAdd_.addArray(a)}},removeGroups:{suppress:function(){return 0==this.groupsToRemove_.size()},print:function(a){this.groupsToRemove_.print(a)},parse:function(a){this.groupsToRemove_.addArray(a)}},matchExtraGroups:{suppress:function(){return!this.matchExtraGroups_},print:function(a){a.booleanValue(this.matchExtraGroups_)},
parse:function(a){this.matchExtraGroups_=Boolean(a)}},sortBy:{suppress:function(){return"lastModificationDate"==this.sortBy_},print:function(a){a.string(this.sortBy_)},parse:function(a){this.sortBy_=a}},ascendingOrder:{suppress:function(){return!this.ascendingOrder_},print:function(a){a.booleanValue(this.ascendingOrder_)},parse:function(a){this.ascendingOrder_=Boolean(a)}},startIndex:{suppress:function(){return 0>this.startIndex_},print:function(a){a.number(this.startIndex_)},parse:function(a){this.startIndex_=
Number(a)}},numResults:{suppress:function(){return 0>this.numResults_},print:function(a){a.number(this.numResults_)},parse:function(a){this.numResults_=Number(a)}},continuationToken:{suppress:function(){return!this.continuationToken_},print:function(a){a.string(this.continuationToken_)},parse:function(a){this.continuationToken_=a}},setContinuationTokenInResponse:{suppress:function(){return!this.continuationTokenInResponse_},print:function(a){a.booleanValue(this.continuationTokenInResponse_)},parse:function(a){this.continuationTokenInResponse_=
Boolean(a)}},minTimestamp:{suppress:function(){return!this.minTimestamp_},print:function(a){a.number(this.minTimestamp_)},parse:function(a){this.minTimestamp_=Number(a)}},maxTimestamp:{suppress:function(){return!this.maxTimestamp_},print:function(a){a.number(this.maxTimestamp_)},parse:function(a){this.maxTimestamp_=Number(a)}},includeNickNames:{suppress:function(){return!this.includeNickNames_},print:function(a){a.booleanValue(this.includeNickNames_)},parse:function(a){this.includeNickNames_=Boolean(a)}},
qualityScore:{suppress:function(){return!this.qualityScore_},print:function(a){a.number(this.qualityScore_)},parse:function(a){this.qualityScore_=Number(a)}},comparisonType:{suppress:function(){return!this.comparisonType_},print:function(a){a.number(this.comparisonType_)},parse:function(a){this.comparisonType_=Number(a)}},language:{suppress:function(){return!this.language_},print:function(a){a.string(this.language_)},parse:function(a){this.language_=a}},moderatorId:{suppress:function(){return!this.moderatorId_},
print:function(a){a.string(this.moderatorId_)},parse:function(a){this.moderatorId_=a}},UserFeedbackRestrict:{suppress:function(){return!this.userFeedbackRestrict_},print:function(a){this.userFeedbackRestrict_.print(a)},parse:function(a){this.userFeedbackRestrict_.parseFromObject(a)}}}};var Oc=function(){},Pc=null;var M=function(){},Qc="http://www.google.com";"https://"==document.URL.substring(0,8)&&(Qc="https://www.google.com");M.prototype.ZFE_ABSOLUTE_URI_PREFIX=Qc;M.prototype.createServerChannel=function(){};M.singleton_=null;M.prototype.absoluteUriPrefix=function(){return M.prototype.ZFE_ABSOLUTE_URI_PREFIX};M.prototype.setAbsoluteUriPrefix=function(a){"/"!=a[a.length-1]?M.prototype.ZFE_ABSOLUTE_URI_PREFIX=a:2<a.length&&(M.prototype.ZFE_ABSOLUTE_URI_PREFIX=a.substring(0,a.length-1))};
M.prototype.getImagePath=function(a){Pc||(Pc=new Oc);return"/reviews/images/"+a};M.getSingleton=function(){return M.singleton_};var Rc=function(a){this.channel_=a;this.referrer_=null},Sc=null,Tc=function(){Sc||(Sc=new Rc(M.getSingleton().createServerChannel()));return Sc};Rc.prototype.setReferrer=function(a){this.referrer_=a};Rc.prototype.channel=function(){return this.channel_};Rc.prototype.setArguments_=function(a){this.referrer_&&a.setArgument("referrer",this.referrer_)};Rc.prototype.send=function(a,b){this.setArguments_(a);a.send(this.channel_,b)};var Uc=function(a,b){this.updateStatus_=a;this.annotationData_=b};Uc.prototype.status=function(){return this.updateStatus_};Uc.prototype.data=function(){return this.annotationData_};var Vc=function(a,b){this.mapEventNameToListeners_=new H;this.entity_=a;this.data_=b;this.arrayUpdates_={}};x(Vc,gc);d=Vc.prototype;d.entity=function(){return this.entity_};d.data=function(){return this.data_};d.setData=function(a){this.data_=a};d.addUpdate=function(a){var b=a.updateEventName();this.arrayUpdates_[b]=this.arrayUpdates_[b]||[];this.arrayUpdates_[b].push(a);this.notifyListeners(a.updateEventName(),a)};
d.coalesce=function(a){a=this.arrayUpdates_[a];for(var b=a[0].clone(),c=1;c<a.length;++c)b.add(a[c]);return b};d.clear=function(){this.arrayUpdates_={}};d.clearUpdates=function(a){this.arrayUpdates_[a]=[]};d.hasUpdates=function(a){return this.arrayUpdates_[a]&&0<this.arrayUpdates_[a].length};d.notifyImmediately_=function(a,b){"resetEvent"==b?a(this.data()):this.hasUpdates(b)&&a(this.coalesce(b))};var Wc=function(){L.call(this);this.annotationDataArray_=[];this.setUrl(Ac().paths().writeAnnotationsJSON);this.moderatorToken_=""};x(Wc,Gc);Wc.prototype.addUpdate=function(a,b){var c=new rc(a.entity());b&&c.labelSet_.copyFrom(b);c.applyUpdate(a);this.annotationDataArray_.push(c)};
Wc.prototype.dictionary_=function(){return{annotations:{suppress:function(){return 0==this.annotationDataArray_.length},print:function(a){a.objectArray(this.annotationDataArray_)},parse:function(a){this.annotationDataArray_=B(a,rc)}},moderatorToken:{suppress:function(){return""==this.moderatorToken_},print:function(a){a.string(this.moderatorToken_)},parse:function(a){this.moderatorToken_=a}}}};var Xc=function(){this.user_=Kc();this.user_.reset();this.mapEntityToUpdateList_=new mc("mapEntityToUpdateList",Vc,function(a){return a.entity().hashCode()});this.changeNotifier_=new gc;this.issuePendingRequestsToZFE_=!1};x(Xc,A);d=Xc.prototype;d.lookupableEntitiesPresent=function(){return!!this.mapEntityToUpdateList_.findFirst(function(a,b){return b.data().entity().isLookupable()})};d.removeAllUpdateLists=function(){this.mapEntityToUpdateList_.removeAll()};
d.updateListHelper_=function(a,b){var c=b.hashCode(),c=a.value(c);c||(c=null,b.isAnnotationEntity()?c=new rc(b):b.isSearchEntity()&&(c=new Lc(b)),c=new Vc(b,c),c.addListener("fetchRequest",l(this.onFetchUpdateReceived_,this)),c.addListener("annotationRequest",l(this.onAnnotationUpdateReceived_,this)),c.addListener("searchRequest",l(this.onSearchUpdateReceived_,this)),a.add(c));return c};d.updateList=function(a){return this.updateListHelper_(this.mapEntityToUpdateList_,a)};
d.fetchAll=function(){this.issuePendingRequestsToZFE_=!0;this.fetchAnnotations();this.searchAnnotations();this.issuePendingRequestsToZFE_=!1};d.fetchAnnotations=function(){if(this.issuePendingRequestsToZFE_&&this.lookupableEntitiesPresent()){var a=[];this.appendChanges(a,"fetchRequest");if(0!=a.length){for(var b=new Bc,c=0;c<a.length;++c)b.addUpdate(a[c]);Tc().send(b,l(this.processLookupResult_,this))}}};
d.processLookupResult_=function(a,b){var c=new J;c.initFromRequestStatus(a,b);0==c.status()&&(this.parseFromObject(a),this.resetAllUpdateLists("fetchRequest"))};d.onFetchUpdateReceived_=function(a){var b=this.issuePendingRequestsToZFE_;a.urgent()&&(this.issuePendingRequestsToZFE_=!0);this.fetchAnnotations();this.issuePendingRequestsToZFE_=b};d.onAnnotationUpdateReceived_=function(a){this.changeNotifier_.notifyListeners("documentChanged",a)};
d.onSearchUpdateReceived_=function(a){var b=this.issuePendingRequestsToZFE_;a.urgent()&&(this.issuePendingRequestsToZFE_=!0);this.searchAnnotations();this.issuePendingRequestsToZFE_=b};d.addChangeListener=function(a){this.changeNotifier_.addListener("documentChanged",a)};d.appendChanges=function(a,b){this.mapEntityToUpdateList_.forEachEntry(function(c,e){0<e.numListeners("resetEvent")&&e.hasUpdates(b)&&a.push(e.coalesce(b))})};
d.reset_=function(a,b){var c=this.mapEntityToUpdateList_.value(a.hashCode());c.notifyListeners("resetEvent",c.data());c.clearUpdates(b)};d.resetAllUpdateLists=function(a){var b=this;this.mapEntityToUpdateList_.forEachEntry(function(c,e){b.reset_(e.entity(),a)})};d.applyUpdate=function(a){var b=a.entity().hashCode(),b=this.mapEntityToUpdateList_.value(b),c=b.data();b.data().applyUpdate(a);this.reset_(c.entity(),a.updateEventName())};
d.writeAnnotations=function(){var a=[];this.appendChanges(a,"annotationRequest");if(0!=a.length){for(var b=new Wc,c=0;c<a.length;++c){var e=a[c];e.notifyListeners("updateProcessing",e);var g=void 0;0<e.labelsToRemove_.size()&&(g=e.entity().hashCode(),g=this.mapEntityToUpdateList_.value(g),g=g.data().labelSet_);b.addUpdate(e,g)}Tc().send(b,l(this.processWriteAnnotationsReply_,this,a))}};
d.processWriteAnnotationsReply_=function(a,b,c){if(0==c.status()){for(b=0;b<a.length;++b){var e=a[b];this.applyUpdate(e)}for(b=0;b<a.length;++b){var e=a[b],g=e.entity().hashCode(),g=this.mapEntityToUpdateList_.value(g).data(),g=new Uc(c,g);e.notifyListeners("updateProcessed",g)}}};
d.searchAnnotations=function(){if(this.issuePendingRequestsToZFE_){var a=[];this.appendChanges(a,"searchRequest");if(0!=a.length){for(var b=new Mc,c=0;c<a.length;++c){var e=a[c];b.addUpdate(e)}Tc().send(b,l(this.processSearchAnnotationsReply_,this,b))}}};
d.processSearchAnnotationsReply_=function(a,b,c){if(0==c.status()){if(b.searchResults){var e=a.searchDataArray_;for(a=0;a<b.searchResults.length;a++)if(e[a].parseFromObject(b),b.searchResults[a].annotations)for(c=0;c<b.searchResults[a].annotations.length;c++){var g=new rc;g.parseFromObject(b.searchResults[a].annotations[c]);var h=new C;h.setAnnotation(g.entity());g.setEntity(h);h=this.updateList(h);h.setData(g);e[a].addUpdateList(h);h.notifyListeners("resetEvent",g);h.clearUpdates("searchRequest")}}for(a=
0;a<e.length;a++)h=e[a].entity(),h=this.updateList(h),h.setData(e[a]),this.reset_(e[a].entity(),"searchRequest");Yc().fetchAnnotations()}};d.reportAbuse=function(a,b){Tc().send(a,l(this.processReportAbuseResult_,this,b))};d.processReportAbuseResult_=function(a,b,c){c.status();a(b,c)};
d.dictionary_=function(){return{user:{print:function(a){this.user_.print(a)},parse:function(a){this.user_.parseFromObject(a)}},annotations:{print:function(a){this.mapEntityToUpdateList_.print(a,function(b,c){c.data().print(a)})},parse:function(a){for(var b=0;b<a.length;++b){var c=a[b],e=new hc;e.parseFromObject(c);c=this.updateList(e.entity());c.data().applyUpdate(e)}}}}};var Zc=function(){L.call(this);this.entityArray_=[];this.signature_=null};x(Zc,L);Zc.prototype.addEntity=function(a){this.entityArray_.push(a)};Zc.prototype.setSignature=function(a){this.signature_=a};
Zc.prototype.dictionary_=function(){return{entities:{suppress:function(){return 0==this.entityArray_.length},print:function(a){a.objectArray(this.entityArray_)},parse:function(a){this.entityArray_=B(a,C)}},googleAppToken:{suppress:function(){return!this.signature_},print:function(a){a.string(this.signature_)},parse:function(a){this.signature_=a}}}};var $c=function(){this.annotationDocument_=new Xc;this.annotationDocument_.addChangeListener(l(this.onDocumentChanged_,this))},ad=null,Yc=function(){ad||(ad=new $c);return ad};d=$c.prototype;d.setEntity=function(a,b){a.attachUpdateList(this.annotationDocument_.updateList(b));a.requestFetch()};
d.createGadget=function(a,b){var c=this.annotationDocument_.updateList(a.entity());a.setInitialValues(c.data());var e=a.createGadget();e.attachUpdateList(c);e.setAnnotationDocument(this.annotationDocument_);a.attach(e,b);e.requestFetch();return e};d.removeAllUpdateLists=function(){this.annotationDocument_.removeAllUpdateLists()};d.fetchAnnotations=function(){this.annotationDocument_.fetchAll()};
d.deleteAnnotation=function(a,b,c){var e=new Zc;e.addEntity(a);e.setSignature(b);a=function(a,b){c&&c(b)};Tc().sendWriteRequest(Ac().paths().deleteAnnotationsJSON,e,a)};d.onDocumentChanged_=function(){this.annotationDocument_.writeAnnotations()};var bd=function(a){this.callback_=a};bd.prototype.run=function(a){for(this.queue_=[a];this.queue_.length;)this.process_(this.queue_.shift())};bd.prototype.process_=function(a){this.callback_(a);for(a=a.firstChild;a;a=a.nextSibling)1==a.nodeType&&this.queue_.push(a)};function cd(a,b){var c=new bd(b);c.run(a)}function N(a,b,c,e){if(!e){if(1!=a.nodeType)return null;e="class"==b?a.className:a.getAttribute(b);if(e==c)return a}e=null;for(a=a.firstChild;!e&&a;a=a.nextSibling)e=N(a,b,c,!1);return e}
function dd(a,b){for(var c=a,e=0;c&&e<b.length;++e){var g=b[e],h;for(h in g)c&&(c=N(c,h,g[h],!1))}return c}function ed(a){if(window.ActiveXObject){var b=document.createEventObject();a.fireEvent("onmousedown",b)}else b=a.ownerDocument.createEvent("MouseEvents"),b.initMouseEvent("mousedown",!0,!0,a.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(b)}
function fd(a){if(window.ActiveXObject){var b=document.createEventObject();a.fireEvent("onclick",b)}else b=a.ownerDocument.createEvent("MouseEvents"),b.initMouseEvent("click",!0,!0,a.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(b)}function gd(){return k.navigator?k.navigator.userAgent:null}function hd(a){if(null==a)return"";if("#text"==a.nodeName)return a.nodeValue;var b="";for(a=a.firstChild;a;a=a.nextSibling)b="#text"==a.nodeName?b+a.nodeValue:b+hd(a);return b}
function id(a,b,c){a=N(document.getElementById(a),b,c);return hd(a)};var jd=function(){this.registry_={}},kd=null,O=function(){kd||(kd=new jd);return kd};jd.prototype.addToRegistry=function(a,b){this.registry_[a]=b};jd.prototype.lookupInRegistry=function(a){return this.registry_[a]};var ld=function(){this.numIFramesLoadedInParent_=this.numIFramesCreatedInParent_=this.numIFramesCreated_=0;this.mediatorInitialized_=this.loadJsApi_=!1},md=null,nd=function(){md||(md=new ld);return md};d=ld.prototype;
d.initializeMediator=function(a){var b=P(),c=b.clearSilverHtmlUnescape(a.escapedReferrer);b.setReferrer(c);c=b.clearSilverHtmlUnescape(a.escapedDasherDomain);b.setDasherDomainForZFERequest(c);this.numIFramesCreatedInParent_=Number(b.clearSilverHtmlUnescape(a.escapedNumTotalIFrames));D().setUserKey(a.escapedUserKey);D().setDomainRestricted("1"==a.escapedDomainRestricted?!0:!1);b.setInlineMode(!0);this.mediatorInitialized_=!0};
d.createCGIArgsFromObject_=function(a){var b=[],c;for(c in a){var e=a[c];z(e)||b.push(c+"="+Db(e))}return b.join("&")};
d.createWidgetInIFrame=function(a,b,c){this.numIFramesCreated_++;var e=c.name()?vb("iframe",{name:c.name()}):document.createElement("iframe");e.setAttribute("frameborder","0");var g=a;if(c.width()||c.height())g+="Custom",c.width()&&e.setAttribute("width",""+c.width()),c.height()&&e.setAttribute("height",""+c.height());e.className=g;g=new Yb;g.setCompressedMode(!0);g=c.print(g);c.jsApi()&&(this.loadJsApi_=!0);a={widgetName:a,width:c.width(),height:c.height(),backgroundColor:c.backgroundColor(),referrer:document.URL,
jsApi:this.loadJsApi_?1:0,profiler:od.isNotNullProfiler()?1:0,req:g};a=this.createCGIArgsFromObject_(a);e.src=this.iFrameWidgetBaseUrl_()+"?"+a;b.appendChild(e)};
d.createMediatorIFrame=function(){if(0!=this.numIFramesCreated_){var a=vb("iframe",{name:"__GOOG_ANNON_MEDIATOR"});a.style.display="none";var b={mediator:1,count:this.numIFramesCreated_,dasherDomain:D().dasherDomain_,appid:P().applicationId(),locale:P().locale(),noStaticGws:P().noStaticGws()?1:0,jsApi:this.loadJsApi_?1:0,profiler:od.isNotNullProfiler()?1:0,referrer:document.URL,userKey:D().userKey(),domainRestricted:D().domainRestricted()?1:null},b=this.createCGIArgsFromObject_(b);a.src=this.iFrameWidgetBaseUrl_()+
"?"+b;document.body.appendChild(a)}};d.incrementNumIFramesLoadedInParent=function(){++this.numIFramesLoadedInParent_;this.issueFetchIfAllIFramesHaveLoaded_()};d.issueFetchIfAllIFramesHaveLoaded_=function(){this.numIFramesLoadedInParent_==this.numIFramesCreatedInParent_&&P().fetchAnnotations()};d.iFrameWidgetBaseUrl_=function(){return M.getSingleton().absoluteUriPrefix()+"/reviews/widgets"};var Q=function(){};Q.prototype.inlineMode=function(){return D().inlineMode()};var pd=!1;d=Q.prototype;d.getAnnotationGadgetParams=function(a,b){var c=0==a.indexOf("google.annotations")?a.slice(19):a,c=O().lookupInRegistry(c);if(!c)return null;var e=b?new qb(b):null;return new c(e)};
d.assignValueToPath=function(a,b,c){var e=a;b=b.split(".");for(var g=0;g<b.length;++g){for(var h=b[g],h=h.split("-"),n=h[0],m=1;m<h.length;++m){var t=h[m];if(0<t.length)var E=t.charAt(0),t=t.slice(1),n=n+(E.toUpperCase()+t)}h=n;g==b.length-1?e[h]=c:(void 0==e[h]&&(e[h]={}),e=e[h])}return a};d.createParamsFromDOMNode=function(a){for(var b={},c=0;c<a.attributes.length;++c){var e=a.attributes.item(c),g="g:",h=e.name.indexOf(g);0==h&&(g=e.name.substr(g.length),e=e.value,this.assignValueToPath(b,g,e))}return b};
d.createWithinDOMNode=function(a,b,c,e){if(!pd){pd=!0;var g='zzIFramePanelAverageStarRating{height:40px;width:120px}zzIFramePanelRatingEditor,zzIFramePanelRatingDisplay{height:30px;width:100px}zzIFramePanelVotingEditor,zzIFramePanelVotingDisplay{height:30px;width:100px}zzIFramePanelAnnotationPanel{height:130px;width:460px}zzIFramePanelNumRating{height:25px;width:100px}zzIFramePanelRatingPanel{height:60px;width:300px}textarea.zzTextEditor,textarea.zzTextEditorSaving,textarea.zzTextEditorSaved{font-family:arial,sans-serif;font-size:12px;height:4em;width:100%;margin-bottom:4px}textarea.zzTextEditor{background-color:#fff}textarea.zzTextEditorSaving{background-color:azure}textarea.zzTextEditorSaved{background-color:azure}a.zzCommentPanelEditLink{text-decoration:underline;cursor:pointer}a.zzCommentPanelDeleteLink{text-decoration:underline;cursor:pointer;margin-left:10px}table.zzCommentPanelGadget{font-family:arial,helvetica,sans-serif;font-size:83%}input.zzCommentPanelGadgetSaveButton{font-weight:bold}input.zzCommentPanelGadgetCancelButton{margin-left:12px}td.zzCommentPanelMessageBox{color:red}span.zzVotingEdit{}span.zzVotingDisplay{}span.zzVotingEdit span.zzVoteAffirmative{text-decoration:underline;cursor:pointer}span.zzVotingEdit span.zzVoteAffirmativeActive{text-decoration:underline;cursor:pointer;font-weight:bold}span.zzVotingEdit span.zzVoteNegative{text-decoration:underline;cursor:pointer}span.zzVotingEdit span.zzVoteNegativeActive{text-decoration:underline;cursor:pointer;font-weight:bold}span.zzVotingDisplay span.zzVoteAffirmative{display:none}span.zzVotingDisplay span.zzVoteAffirmativeActive{display:inline}span.zzVotingDisplay span.zzVoteNegative{display:none}span.zzVotingEdit span.zzVoteNegativeActive{display:inline}ul.zzRatingDescription{list-style-type:none;display:inline}ul.zzRatingDescriptionTemplate{display:none}ul.zzRatingDescription li.zzRatingText{display:none}ul.zzRatingDescription li.zzRatingTextActive{display:inline}span.zzRatingDescription{font-family:arial,sans-serif}span.zzAggregateRatingStat{}span.zzAggregateRatingStatDescriptionText{margin-left:5px}span.zzRatingEdit img.zzLeftEdge{width:17px;height:16px;margin:0;padding:0;display:inline}span.zzRatingEdit img.zzLeftEdgeHidden{width:17px;height:16px;margin:0;padding:0;display:none}span.zzRatingEdit img.zzCancel{width:17px;height:16px;margin:0;padding:0;display:inline}span.zzRatingEdit img.zzCancelHidden{width:17px;height:16px;margin:0;padding:0;display:none}span.zzRatingEdit img.zzStar{width:11px;height:16px;margin:0;padding:0;display:inline}span.zzRatingEdit img.zzRightEdge{width:5px;height:16px;margin:0;padding:0;display:inline}span.zzRatingDisplay img.zzStar{width:10px;height:9px;margin:0;padding:0;display:inline}table.zzRatingPanel{font-family:arial,sans-serif;font-size:13px}table.zzRatingPanel span.zzRatingDescription{padding-left:18px}table.zzRatingPanel span.zzAggregateRatingStat,table.zzRatingPanel span.zzAggregateRatingStatDescription{color:#6F6F6F}table.zzRatingPanel td.zzAggregateRating{text-align:center}span.zzAggregateRating img.zzStar{width:16px;height:15px;margin:0;padding:0;display:inline}span.zzAggregateRating img.zzSmallStar{width:10px;height:9px;margin:0;padding:0;display:inline}div.zzCommentThreadGadget,div.zzCodeCommentThreadGadget{padding:0;padding-left:5px;padding-right:5px;background:#eff3f9;border:0;display:block}div.zzCodeCommentThreadGadget{border:0 solid #ccc;width:100%;background:#fff;background-color:#fff;padding:2px}div.zzCommentThreadSeparator,div.zzCodeCommentThreadSeparator{border-bottom:1px solid #aaa;height:1px;width:100%}div.zzCodeCommentThreadSeparator{border-bottom:0 solid #aaa}div.zzCommentList{padding:4px;overflow:auto;width:99%;height:auto;background:#eff3f9;border-bottom:0;margin-bottom:2px}div.zzCodeCommentList{padding:4px;background:#fff;background-color:#fff;border-bottom:0;margin-bottom:2px;overflow:auto}div.zzCommentListLoading{font-size:medium}div.zzCommentListPagination{background:#eee;border:1px solid gray;float:left;margin-top:5px;padding:2px 6px}div.zzCommentListPaginationMessage{float:left}div.zzCommentListNavLink{color:#00f;cursor:default;margin-left:8px;text-decoration:underline}div.zzCommentDisplay{padding-top:4px;padding-bottom:4px;border-bottom:1px solid #aaa;width:100%}span.zzCommentAuthorName{color:#000}p.zzCommentDisplayTimestampSpamLink{margin-bottom:2px;margin-top:2px}span.zzCommentDisplayTimestamp{color:green;margin-right:10px}span.zzReportSpamLink{color:#00f;cursor:default;text-decoration:underline}span.zzHideAnnotationLink{color:#00f;cursor:default;text-decoration:underline;margin-left:10px}div.zzCommentPoster{margin-bottom:4px;width:100%}div.zzCommentPosterSignInLink{}div.zzCommentPosterCollapseLink{color:#00f;cursor:default;padding-bottom:2px;text-decoration:underline}img.zzCommentPosterCollapseLinkImage{margin-right:3px}div.zzTabBar{background-color:#fff;display:block;padding:6px}div.zzTab,div.zzTabSelected{display:inline;padding:2px;margin:0;border:1px solid #c5d7ef;padding-left:4px;padding-right:4px;cursor:pointer;color:#36c;font-weight:bold}div.zzTab{background-color:#e5ecf9}div.zzTabSelected{background-color:#fff;border-bottom:0}div.zzTabSpacer,div.zzTabEndSpacer{display:inline;background-color:#fff;cursor:default;font-weight:bold;padding:2px;border:0;border-bottom:1px solid #c5d7ef}span.zzNumUsersFoundThisHelpful{display:none}span.zzNumUsersFoundThisHelpfulActive{display:inline}.zzLinkGadgetUI{color:#00c;text-decoration:underline;cursor:pointer}.zzLinkGadgetUINoLink{}.zzSearchResultsGadgetResults{padding:2px}.zzSearchResultsGadgetMessage{padding:2px}.zzBookUserReviewLayoutDescriptorContainer{margin:15px 20px 20px;border-collapse:collapse}.zzBookUserReviewLayoutDescriptorLineBreak{display:block;padding:5px}.zzBookThumbnailGadgetBoxeyBrown{float:left;height:193px;margin:7px 10px 5px 7px;text-align:center}.zzBookThumbnailGadgetDsb{background:#fff url(http://books.google.com/googlebooks/images/cover_shadow_bg.gif) no-repeat scroll right bottom;display:table-cell;float:left;margin:0;padding:0;position:relative}.zzBookThumbnailGadgetCornerT{background:transparent url(http://books.google.com/googlebooks/images/cover_shadow_topright.gif) no-repeat scroll right top;height:14px;position:absolute;right:0;top:0;width:14px}.zzBookThumbnailGadgetCornerB{background:transparent url(http://books.google.com/googlebooks/images/cover_shadow_bottomleft.gif) no-repeat scroll left bottom;bottom:0;height:12px;left:0;position:absolute;width:12px}.zzBookThumbnailGadgetCa{border:0 none;left:-7px;margin:0;position:relative;top:-7px}.zzBookThumbnailGadgetCal{background-color:#fff;border:1px solid #808080;margin:0;padding:0}.zzBookThumbnailGadgetImage{border:0}.zzBookThumbnailGadgetFCWrap{border:1px solid #808080;background:#00245D url(http://books.google.com/googlebooks/images/blue_leather_medium.gif) no-repeat scroll right bottom}.zzBookThumbnailGadgetFC{font-family:Georgia,"Times New Roman",Serif;font-size:12px;height:188px;margin:0 auto;overflow:hidden;padding:0;position:relative;width:133px}.zzBookThumbnailGadgetFC a:link,.zzBookThumbnailGadgetFC a:visited,.zzBookThumbnailGadgetFC a:active{font-family:Georgia,"Times New Roman",Serif;font-weight:normal;color:#b4947e;text-decoration:none}.zzBookThumbnailGadgetFCLink{height:188px;left:0;position:absolute;top:0;width:133px;z-index:3}.zzBookThumbnailGadgetFCTable{border:0;height:188px;width:133px}.zzBookThumbnailGadgetFCTableData{vertical-align:middle;text-align:center}.zzBookThumbnailGadgetFCContents{border:0 none;display:block;padding:5px 12px 5px 18px;font-family:Georgia,"Times New Roman",Serif;font-weight:normal;text-decoration:none;color:#b4947e}.zzBookThumbnailGadgetFCTitleText,.zzBookThumbnailGadgetFCSeparatorText,.zzBookThumbnailGadgetFCAuthorsText{overflow:hidden;text-decoration:none;width:103px;word-wrap:break-word}div.zzBookThumbnailGadgetFCTitleText{font-size:14px}div.zzBookThumbnailGadgetFCSeparatorText{font-size:20px;margin:6px 0 5px 0}div.zzBookThumbnailGadgetFCAuthorsText{font-size:10px}.zzBookMetadataGadgetBookTitle{color:#00c};.zzTitleGadgetLink{color:#00c;text-decoration:underline;cursor:pointer}.zzNicknameGadgetLink{color:#00c;text-decoration:underline;cursor:pointer}.zzReadReviewGadgetImage{margin-left:3px;margin-right:3px;cursor:pointer}.zzReadReviewGadgetLink{color:#00c;text-decoration:underline;cursor:pointer}.zzRecentReviewsGadgetContainer{border-collapse:collapse}.zzRecentReviewsGadgetFooter{color:#00c;padding:2px}.zzRecentReviewsGadgetPrevNext{padding:2px;text-align:right}.zzPrevNextGadgetPrev{text-decoration:underline;cursor:pointer;padding:2px}.zzPrevNextGadgetNext{text-decoration:underline;cursor:pointer;padding:2px}.zzCommentSnippetGadgetCommentText{}.zzCodeCommentDisplaySearchResult{font-size:small;padding:5px}.zzCodeCommentDisplaySearchResultHeading{}.zzCodeCommentDisplaySearchResultHeading .zzLinkGadgetUI{color:#00f}.zzCodeCommentDisplaySearchResultHeading .zzLinkGadgetUINoLink{color:#000}.zzCodeCommentDisplaySearchResultHeading .zzTextEditorReadOnly{padding:15px}.zzCodeCommentDisplayWasThisHelpful{padding-left:15px;color:gray}.zzCodeCommentDisplaySearchResultHeading .zzTextEditorReadOnly{white-space:pre}.zzTitleAndCommentEditorGadget{background:#fff;border:none;margin:1em 0 0;font-size:small;color:gray}.zzTitleAndCommentEditorGadget .zzTextEditor{width:400px;color:#000}.zzTextDisplayGadgetContainer{}',
h=rb(void 0),n=null,m=h.document_;if(w&&m.createStyleSheet)h=n=m.createStyleSheet(),w&&void 0!==h.cssText?h.cssText=g:h.innerHTML=g;else{m=h.getElementsByTagNameAndClass("HEAD")[0];m||(n=h.getElementsByTagNameAndClass("BODY")[0],m=h.createDom("HEAD"),n.parentNode.insertBefore(m,n));var t=n=h.createDom("STYLE");w&&void 0!==t.cssText?t.cssText=g:t.innerHTML=g;h.appendChild(m,n)}}e=this.getAnnotationGadgetParams(a,e);if(!e)return null;e.parseFromObject(c);D().widgetsOnPage_[a]=!0;return e.createInline()?
Yc().createGadget(e,b):nd().createWidgetInIFrame(a,b,e)};d.initFromCGIArgs=function(){var a=window.google.annotations.LoadArgs;if(a){var b=a.match(/appid=([0-9]+)/);b&&P().setApplicationId(b[1]);(a=a.match(/hl=([a-zA-Z-]+)/))&&P().setLocale(a[1])}};d.createWidget_=function(a,b,c,e){var g=e||window.document;return(b="string"==typeof b?g.getElementById(b):b)?this.createWithinDOMNode(a,b,c,e):null};d.create=function(a,b,c){return this.createWidget_(a,b,c)};
d.createWidgetInIFrame=function(a,b,c,e){if(!nd().mediatorInitialized_)return!1;this.createWidget_(a,b,c,e);nd().incrementNumIFramesLoadedInParent();return!0};d.createFromDOMNode=function(a,b){this.getAnnotationGadgetParams(a);var c=this.createParamsFromDOMNode(b);return this.createWithinDOMNode(a,b,c)};
d.createAll=function(a){this.removeAllUpdateLists();var b=[],c=[];a=a||document.body;cd(a,function(a){if("DIV"==a.tagName||"SPAN"==a.tagName){var g=a.getAttribute("g:type");g&&(b.push(a),c.push(g))}});for(a=0;a<b.length;++a)this.createFromDOMNode(c[a],b[a])};d.fetchAnnotations=function(){Yc().fetchAnnotations();nd().createMediatorIFrame()};d.removeAllUpdateLists=function(){Yc().removeAllUpdateLists()};d.deleteAnnotation=function(a,b,c){var e=new C;e.parseFromObject(a);Yc().deleteAnnotation(e,b,c)};
d.setEntity=function(a,b){var c=new C;c.parseFromObject(b);Yc().setEntity(a,c)};d.setInlineMode=function(a){D().setInlineMode(a)};d.setDasherDomainForZFERequest=function(a){D().setDasherDomainForZFERequest(a)};d.applicationId=function(){return D().applicationId()};d.setApplicationId=function(a){D().setApplicationId(a)};d.locale=function(){return D().locale()};d.setLocale=function(a){D().setLocale(a)};d.noStaticGws=function(){return D().noStaticGws()};d.setNoStaticGws=function(a){D().setNoStaticGws(a)};
d.setReferrer=function(a){Tc().setReferrer(a)};d.clearSilverHtmlUnescape=function(a){a=a.replace(Eb,"&");a=a.replace(Fb,"<");a=a.replace(Gb,">");a=a.replace(Hb,'"');return a=a.replace(Ib,"'")};var qd=null,P=function(){qd||(qd=new Q);return qd},R=function(a,b,c){c=l(c,P());a[b]=c};Q.prototype.setDomainRestricted=function(a){D().setDomainRestricted(a)};R(window.google.annotations,"setInlineMode",Q.prototype.setInlineMode);R(window.google.annotations,"setDasherDomain",Q.prototype.setDasherDomainForZFERequest);
R(window.google.annotations,"setApplicationId",Q.prototype.setApplicationId);R(window.google.annotations,"locale",Q.prototype.locale);R(window.google.annotations,"setLocale",Q.prototype.setLocale);R(window.google.annotations,"noStaticGws",Q.prototype.noStaticGws);R(window.google.annotations,"setNoStaticGws",Q.prototype.setNoStaticGws);R(window.google.annotations,"create",Q.prototype.create);R(window.google.annotations,"createAll",Q.prototype.createAll);R(window.google.annotations,"fetch",Q.prototype.fetchAnnotations);
R(window.google.annotations,"deleteAnnotation",Q.prototype.deleteAnnotation);R(window.google.annotations,"setEntity",Q.prototype.setEntity);R(window.google.annotations,"flush",Q.prototype.removeAllUpdateLists);R(window.google.annotations,"setReferrer",Q.prototype.setReferrer);R(window.google.annotations,"setAbsoluteUriPrefix",M.prototype.setAbsoluteUriPrefix);R(window.google.annotations,"setDomainRestricted",Q.prototype.setDomainRestricted);window.google.annotations.locate=N;
window.google.annotations.locateByPath=dd;window.google.annotations.simulateMouseDown=ed;window.google.annotations.simulateClick=fd;window.google.annotations.getBrowser=gd;window.google.annotations.getText=id;var rd=l(Q.prototype.createWidgetInIFrame,P());aa("google.annotations.internal.createWidgetInIFrame",rd,void 0);var sd=l(ld.prototype.initializeMediator,nd());aa("google.annotations.internal.initializeMediator",sd,void 0);var td=l(Q.prototype.initFromCGIArgs,P());
aa("google.annotations.internal.initFromCGIArgs",td,void 0);var ud=l(bc.prototype.setUserKey,D());aa("google.annotations.internal.setUserKey",ud,void 0);var vd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var Ad=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(wd.test(c)){a=c;if(!wd.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(xd,"#$1$1$2$2$3$3"));a=a.toLowerCase();b.hex=a;b.type="hex";return b}a:{var e=a.match(yd);if(e){var c=Number(e[1]),g=Number(e[2]),e=Number(e[3]);if(0<=c&&255>=c&&0<=g&&255>=g&&0<=e&&255>=e){c=[c,g,e];break a}}c=[]}if(c.length){g=c[0];a=c[1];c=c[2];g=Number(g);a=Number(a);c=Number(c);if(isNaN(g)||0>g||255<g||isNaN(a)||0>a||
255<a||isNaN(c)||0>c||255<c)throw Error('"('+g+","+a+","+c+'") is not a valid RGB color');g=zd(g.toString(16));a=zd(a.toString(16));c=zd(c.toString(16));a="#"+g+a+c;b.hex=a;b.type="rgb";return b}if(vd&&(c=vd[a.toLowerCase()]))return b.hex=c,b.type="named",b;throw Error(a+" is not a valid color string");},xd=/#(.)(.)(.)/,wd=/^#(?:[0-9a-f]{3}){1,2}$/i,yd=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,zd=function(a){return 1==a.length?"0"+a:a};var Cd=function(){this.onSaved_=""};x(Cd,A);d=Cd.prototype;d.onSaved=function(){return this.onSaved_};d.setOnSaved=function(a){this.onSaved_=a};d.configure=function(a){this.registerHandler_(a,this.onSaved(),"updateProcessed")};d.registerHandler_=function(a,b,c){b&&(b=window[b])&&a.addExternalListener(c,b)};d.dictionary_=function(){return{onSaved:{suppress:function(){return!this.onSaved_},print:function(a){a.string(this.onSaved_)},parse:function(a){this.onSaved_=a}}}};var Dd=function(a){this.mapEventNameToListeners_=new H;this.dom_=a||rb();this.updateList_=null;this.updateListEvents_={};this.uiGadget_=null;this.styles_={};this.annotationDocument_=null};x(Dd,gc);d=Dd.prototype;d.dom_=null;d.getDomHelper=function(){return this.dom_};d.requestFetch=function(){};d.setAnnotationDocument=function(a){this.annotationDocument_=a};d.attachUpdateList=function(a){this.updateList_&&this.removeAllListeners();this.updateList_=a;this.addAllListeners()};
d.addExternalListener=function(a,b){this.addListener(a,function(a){a=a.data();for(var e=[],g=0;5>g;++g)e.push(a.aggregateData().ratings().count(g+1));b({url:a.entity().url(),starred:a.starred(),starRating:a.rating(),title:a.title(),comment:a.comment(),ratingHistogram:e,averageRating:a.aggregateData().ratings().average()})})};d.addAllListeners=function(){this.addUpdateListListener("resetEvent",l(this.display,this))};
d.addUpdateListListener=function(a,b){this.updateListEvents_[a]=b;this.updateList_.addListener(a,b,!0)};d.removeAllListeners=function(){for(var a in this.updateListEvents_)this.updateList_.removeListener(a,this.updateListEvents_[a])};d.entity=function(){return this.updateList_?this.updateList_.entity():null};d.updateList=function(){return this.updateList_};d.toString=function(){var a=this.entity(),a=a?a.toString():"No entity set";return"ZipitGadget "+a};d.display=function(){};
d.createAndInitUpdate=function(){var a=this.createUpdate();this.attributes_&&a.addAttributes(this.attributes_);a.addListener("updateProcessing",l(this.onUpdateProcessingEvent_,this));a.addListener("updateProcessed",l(this.onUpdateProcessedEvent_,this));return a};d.createUpdate=function(){};d.save=function(){this.uiGadget_&&this.uiGadget_.save()};d.onUpdateProcessingEvent_=function(){this.uiGadget_&&this.uiGadget_.saving()};
d.onUpdateProcessedEvent_=function(a){this.uiGadget_&&this.uiGadget_.saved();this.notifyListeners("updateProcessed",a)};d.setAllStyles=function(a){for(var b in a)this.styles_[b]=a[b]};d.setStyle=function(a,b){this.styles_[a]=b;this.uiGadget_&&this.uiGadget_.setStyle(a,b)};d.setRatingHistogram=function(){};d.setExternalStats=function(){};
var Ed=function(a){this.abbreviatedEntity_=!1;this.eventRegistration_=null;this.abbreviatedEvents_=!1;this.name_=this.customAttributes_=this.textColor_=this.fontSize_=this.fontFamily_=this.locale_=this.backgroundColor_=this.jsApi_=this.height_=this.width_=this.inlineMode_=null;this.domHelper_=a};x(Ed,A);d=Ed.prototype;d.entity=function(){this.entity_||(this.entity_=this.createEntity());return this.entity_};d.createEntity=function(){};d.preferredHeight=function(){return null};d.preferredWidth=function(){return null};
d.width=function(){return this.width_||this.preferredWidth()};d.height=function(){return this.height_||this.preferredHeight()};d.jsApi=function(){return this.jsApi_};d.backgroundColor=function(){return this.backgroundColor_};d.locale=function(){return this.locale_};d.name=function(){return this.name_};
d.configure_=function(a){if(this.backgroundColor_)try{var b=Ad(this.backgroundColor_);a.setStyle("backgroundColor",b.hex.substr(1))}catch(c){}this.fontFamily_&&a.setStyle("fontFamily",this.fontFamily_);this.fontSize_&&a.setStyle("fontSize",this.fontSize_);this.textColor_&&a.setStyle("textColor",this.textColor_);this.customAttributes_&&a.addAttributes(this.customAttributes_);this.eventRegistration_&&this.eventRegistration_.configure(a);return a};d.setInitialValues=function(){};
d.attach=function(a,b){a.attach(b)};d.createGadget=function(){return this.configure_(this.createGadget_())};d.createGadget_=function(){};
d.dictionary_=function(){return{events:{suppress:function(){return!this.eventRegistration_||this.abbreviatedEvents_},print:function(a){this.eventRegistration_.print(a)},parse:function(a){this.eventRegistration_=new Cd;this.eventRegistration_.parseFromObject(a);this.abbreviatedEvents_=!1}},onSaved:{suppress:function(){return!this.eventRegistration_||!this.abbreviatedEvents_},print:function(a){a.string(this.eventRegistration_.onSaved())},parse:function(a){this.eventRegistration_||(this.eventRegistration_=
new Cd);this.eventRegistration_.setOnSaved(a);this.abbreviatedEvents_=!0}},width:{suppress:function(){return null==this.width_},print:function(a){a.number(this.width_)},parse:function(a){this.width_=Number(a)}},height:{suppress:function(){return null==this.height_},print:function(a){a.number(this.height_)},parse:function(a){this.height_=Number(a)}},jsApi:{suppress:function(){return!this.jsApi_},print:function(a){a.booleanValue(this.jsApi_)},parse:function(a){this.jsApi_=!!Lb(a,!1)}},backgroundColor:{suppress:function(){return null==
this.backgroundColor_},print:function(a){a.string(this.backgroundColor_)},parse:function(a){this.backgroundColor_=a}},fontFamily:{suppress:function(){return null==this.fontFamily_},print:function(a){a.string(this.fontFamily_)},parse:function(a){this.fontFamily_=a}},fontSize:{suppress:function(){return null==this.fontSize_},print:function(a){a.string(this.fontSize_)},parse:function(a){this.fontSize_=a}},textColor:{suppress:function(){return null==this.textColor_},print:function(a){a.string(this.textColor_)},
parse:function(a){this.textColor_=a}},locale:{suppress:function(){return null==this.locale_},print:function(a){a.string(this.locale_)},parse:function(a){this.locale_=a}},inline:{suppress:function(){return!this.inlineMode_},print:function(a){a.booleanValue(!!this.inlineMode_)},parse:function(a){this.inlineMode_=a&&"false"!=a}},attributes:{suppress:function(){return!this.customAttributes_},print:function(a){this.customAttributes_.print(a)},parse:function(a){this.customAttributes_=new F;this.customAttributes_.parseFromInput(a)}},
name:{suppress:function(){return!0},print:function(a){a.booleanValue(!!this.name_)},parse:function(a){this.name_=a}},languageOfAnnotation:{suppress:function(){return!D().languageOfAnnotation()},print:function(a){a.string(D().languageOfAnnotation())},parse:function(a){D().setLanguageOfAnnotation(a)}}}};d.createInline=function(){return null==this.inlineMode_?D().inlineMode():!!this.inlineMode_};var S=function(a){Dd.call(this,a);this.attributes_=void 0};x(S,Dd);d=S.prototype;d.useOriginalEntity=function(a){return a&&a.annotation()||a};d.addAllListeners=function(){S.superClass_.addAllListeners.call(this);this.addUpdateListListener("annotationRequest",l(this.onUpdateListChanged,this));this.addUpdateListListener("fetchRequest",l(this.onFetchUpdateAdded,this))};d.requestFetch=function(){var a=this.createFetchUpdate();this.updateList().addUpdate(a)};
d.createFetchUpdate=function(){var a=new Cc(this.entity());a.setIncludeAggregateInfo(this.includeAggregateInfo());a.setIncludeMetadata(this.includeMetadata());a.setLabelHistogramSize(this.labelHistogramSize());a.setWeightedLabelHistogram(this.weightedLabelHistogram());return a};d.includeAggregateInfo=function(){return!1};d.labelHistogramSize=function(){return-1};d.includeMetadata=function(){return!1};d.weightedLabelHistogram=function(){return!1};d.createUpdate=function(){return new hc(this.entity())};
d.addAttributes=function(a){this.attributes_||(this.attributes_=new F);this.attributes_.addAll(a)};d.onUpdateListChanged=function(){};d.onFetchUpdateAdded=function(){};var T=function(a){Ed.call(this,a);this.entity_=null};x(T,Ed);T.prototype.createEntity=function(){return new C};
T.prototype.dictionary_=function(){return{entity:{suppress:function(){return this.abbreviatedEntity_},print:function(a){this.entity().print(a)},parse:function(a){this.entity().parseFromObject(a);this.abbreviatedEntity_=!1}},url:{suppress:function(){return!this.abbreviatedEntity_||!this.entity().url()},print:function(a){a.string(this.entity().url())},parse:function(a){this.entity().setUrl(a);this.abbreviatedEntity_=!0}},isbn:{suppress:function(){return!this.abbreviatedEntity_||!this.entity().isbn()},
print:function(a){a.string(this.entity().isbn())},parse:function(a){this.entity().setIsbn(a);this.abbreviatedEntity_=!0}},doc:{suppress:function(){return!this.abbreviatedEntity_||!this.entity().doc()},print:function(a){a.string(this.entity().doc())},parse:function(a){this.entity().setDoc(a);this.abbreviatedEntity_=!0}},user:{suppress:function(){return!this.abbreviatedEntity_||!this.entity().user()},print:function(a){a.string(this.entity().user())},parse:function(a){this.entity().setUser(a);this.abbreviatedEntity_=
!0}},product:{suppress:function(){return!this.abbreviatedEntity_||!this.entity().product()},print:function(a){a.string(this.entity().product())},parse:function(a){this.entity().setProduct(a);this.abbreviatedEntity_=!0}},id:{suppress:function(){return!this.abbreviatedEntity_||!this.entity().idDocStr_},print:function(a){a.string(this.entity().idDocStr_)},parse:function(a){this.entity().setIdDocStr(a);this.abbreviatedEntity_=!0}}}};var Fd=function(a){S.call(this,a);this.ratingHistogram_=new lc;this.externalStats_=null};x(Fd,S);d=Fd.prototype;d.setRatingHistogram=function(a){this.ratingHistogram_.copyFrom(a);this.refreshUI_()};d.setExternalStats=function(a){this.externalStats_||(this.externalStats_=new ac);this.externalStats_.copyFrom(a);this.refreshUI_()};d.includeAggregateInfo=function(){return!0};d.toString=function(){return"AggregateRatingBaseGadget "+this.entity().toString()};d.refreshUI_=function(){};d.attach=function(){};
d.display=function(a){if(a=a?a.aggregateData():null)this.ratingHistogram_.copyFrom(a.ratings()),this.refreshUI_()};d.onUpdateListChanged=function(a){this.ratingHistogram_.applyUpdate(a)&&this.refreshUI_()};var U=function(a){T.call(this,a);this.optExternalStats_=this.optRatingHistogram_=null};x(U,T);
U.prototype.configure_=function(a){U.superClass_.configure_.call(this,a);this.optExternalStats_&&a.setExternalStats(this.optExternalStats_);this.optRatingHistogram_&&a.setRatingHistogram(this.optRatingHistogram_);return a};U.prototype.setInitialValues=function(a){this.optRatingHistogram_&&a.aggregateData().ratings().copyFrom(this.optRatingHistogram_)};
U.prototype.dictionary_=function(){return{starRatings:{suppress:function(){return!this.optRatingHistogram_},print:function(a){this.optRatingHistogram_.print(a)},parse:function(a){this.optRatingHistogram_=new lc;this.optRatingHistogram_.parseFromObject(a)}},externalAggregateInfo:{suppress:function(){return!this.externalStats_},print:function(a){this.externalStats_.print(a)},parse:function(a){this.optExternalStats_=new ac;this.optExternalStats_.parseFromObject(a)}}}};var V=function(a){return window.google.annotations.messages[a]},Gd=V(61),Hd=V(6),Id=V(7),Jd=V(8),Kd=V(9),Ld=V(10),Md=V(21),Nd=V(25),Od=V(26),Pd=V(27),Qd=V(28),Rd=V(29),Sd=V(30),Td=V(31),Ud=V(32),Vd=V(33),Wd=V(43),Xd=V(44);var Yd=function(a,b,c,e){Fd.call(this,e);this.ratingRangeMin_=a;this.ratingRangeMax_=b;this.value_=0;this.node_=this.getDomHelper().createDom("span");this.node_.className="zzAggregateRatingStat";this.descriptionNode_=null;c&&(this.descriptionNode_=this.getDomHelper().createDom("span"),this.descriptionNode_.className="zzAggregateRatingStatDescription");this.displayValueForced_(this.value_)};x(Yd,Fd);var Zd=[Hd,Id,Jd,Kd];d=Yd.prototype;d.toString=function(){return"AggregateRatingStatsGadget "+this.entity().toString()};
d.refreshUI_=function(){var a=this.externalStats_?this.externalStats_.combinedRatingsInInterval(this.ratingHistogram_,this.ratingRangeMin_,this.ratingRangeMax_):this.ratingHistogram_.totalRatingsInInterval(this.ratingRangeMin_,this.ratingRangeMax_);this.value_!=a&&(this.value_=a,this.displayValueForced_(this.value_),this.notifyListeners("valueChanged",this.value_))};d.displayValueForced_=function(a){this.node_.textContent=""+a;this.descriptionNode_&&(this.descriptionNode_.innerHTML="&nbsp;"+this.textDescription_(a))};
d.textDescription_=function(a){return a>=Zd.length?Ld:Zd[a]};d.attach=function(a){a.appendChild(this.node_);Kb(this.styles_,this.node_);this.descriptionNode_&&(Kb(this.styles_,this.descriptionNode_),a.appendChild(this.descriptionNode_))};d.notifyImmediately_=function(a,b){"valueChanged"==b&&a(this.value_)};var $d=function(a){U.call(this,a);this.ratingRangeMin_=1;this.ratingRangeMax_=5;this.displayTextDescription_=!0};x($d,U);$d.prototype.preferredWidth=function(){return 100};
$d.prototype.preferredHeight=function(){return 25};$d.prototype.createGadget_=function(){return new Yd(this.ratingRangeMin_,this.ratingRangeMax_,this.displayTextDescription_,this.domHelper_)};
$d.prototype.dictionary_=function(){return{ratingRangeMin:{suppress:function(){return 1==this.ratingRangeMin_},print:function(a){a.number(this.ratingRangeMin_)},parse:function(a){this.ratingRangeMin_=Number(a)}},ratingRangeMax:{suppress:function(){return 5==this.ratingRangeMax_},print:function(a){a.number(this.ratingRangeMax_)},parse:function(a){this.ratingRangeMax_=Number(a)}},displayTextDescription:{print:function(a){a.booleanValue(this.displayTextDescription_)},parse:function(a){this.displayTextDescription_=
a&&"false"!=a}}}};O().addToRegistry("NumRatings",$d);var ae=function(a){this.mapEventNameToListeners_=new H;this.dom_=a||rb();this.saving_=this.hasBeenAttached_=!1;this.styles_={}};x(ae,gc);d=ae.prototype;d.dom_=null;d.getDomHelper=function(){return this.dom_};d.createRootDOMNode=function(){};d.save=function(){};d.saving=function(){this.saving_||(this.saving_=!0,this.startSavingUI_())};
d.saved=function(){var a=this;this.saving_=!1;this.finishSavingUI_();var b=this.getSavedTimeout_();0>=b?this.tearDownSavedUI_():window.setTimeout(function(){a.tearDownSavedUI_()},b)};d.getSavedTimeout_=function(){return 0};d.startSavingUI_=function(){};d.finishSavingUI_=function(){};d.tearDownSavedUI_=function(){};d.style=function(a){return this.styles_[a]};d.setStyle=function(a,b){this.styles_[a]=b};
d.getImageFilenameWithBackground_=function(a){var b=this.style("backgroundColor");if(!b)return a;var c=a.split(".");return 2!=c.length||"gif"!=c[1]?a:c[0]+"-"+b+"."+c[1]};d.getImagePath_=function(a){var b=this.style("backgroundColor")||"";return be.prototype.staticGwsUrlForImageWithBackgroundColor(a,b)||M.getSingleton().getImagePath(this.getImageFilenameWithBackground_(a))};var ce=function(a,b,c){ae.call(this,c);this.textNode_=null;this.value_=z(a)?0:a;this.displayValue_=a;this.ratingStyles_=b;this.hasBeenAttached_=!1;this.node_=this.createRootDOMNode()};x(ce,ae);d=ce.prototype;d.createRootDOMNode=function(){return this.getDomHelper().createDom("span")};d.showDisplay=function(a){this.node_.style.display=a?"inline":"none"};d.setStyles=function(a){this.ratingStyles_=a};
d.attach=function(a,b,c){this.node_.className=this.ratingStyles_.style;Kb(this.styles_,this.node_);a.appendChild(this.node_);this.createRatingNodes_(this.node_,this.onRatingClicked_,this.onRatingMouseOver_);this.bindMouseOutEvent_();b&&this.attachTextNode_(b,c);this.hasBeenAttached_=!0;this.displayRating_(this.value_)};d.createRatingNodes_=function(){};d.bindMouseOutEvent_=function(){var a=this;y(this.node_,"mouseout",function(){a.revertDisplay_()})};d.attachTextNode_=function(){};d.value=function(){return this.value_};
d.setValue=function(a){a!=this.value_&&(this.value_=a,this.displayRating_(a),this.notifyListeners("valueChanged",this.value_))};d.displayRating_=function(){};d.onRatingMouseOver_=function(a){this.displayRating_(a,!0)};d.onRatingClicked_=function(a){this.setValue(a)};d.revertDisplay_=function(){this.displayRating_(this.value_)};var be=function(){},de={ffffff:!0,eff3f9:!0};be.prototype.staticGwsUrlForImageWithBackgroundColor=function(a,b){var c=0==b.length?"ffffff":b;if(!de[c])return null;var e=M.getSingleton().absoluteUriPrefix(),e=0==e.toLowerCase().lastIndexOf("https://",0)?"https://www.google.com":"http://www.google.com";return[e,"apps/reviews/img/v1",c,a].join("/")};var ie=function(a,b,c){ce.call(this,a,b?ee:fe,c);this.displayOnly_=b;this.textStyles_=ge;this.cancelNode_=this.leftEdgeNode_=null;this.arrayStarNode_=[];this.arrayTextDescriptions_=he;Nb(D().locale())&&(a=fe,a.leftEdge.image.inactive="rate_it_pill_left_rtl.gif",a.rightEdge.image.inactive="rate_it_pill_right_rtl.gif",a.cancel.image.active="rate_it_pill_cancel_on_rtl.gif",a.cancel.image.inactive="rate_it_pill_cancel_off_rtl.gif");b?this.node_.setAttribute("role","img"):(this.node_.setAttribute("tabindex",
"0"),this.node_.setAttribute("role","slider"),this.node_.setAttribute("aria-valuemin","0"),this.node_.setAttribute("aria-valuemax",5),y(this.node_,"keydown",l(function(a){37==a.keyCode&&0<this.value()?this.setValue(this.value()-1):39==a.keyCode&&5>this.value()&&this.setValue(this.value()+1)},this)))};x(ie,ce);
var fe={style:"zzRatingEdit",leftEdge:{image:{inactive:"rate_it_pill_left.gif"},style:{inactive:"zzLeftEdge",hidden:"zzLeftEdgeHidden"}},cancel:{image:{active:"rate_it_pill_cancel_on.gif",inactive:"rate_it_pill_cancel_off.gif"},style:{active:"zzCancel",inactive:"zzCancel",hidden:"zzCancelHidden"}},star:{image:{active:"rate_it_pill_star_on.gif",inactive:"rate_it_pill_star_off.gif"},style:{active:"zzStar",inactive:"zzStar"}},rightEdge:{image:{inactive:"rate_it_pill_right.gif"},style:{inactive:"zzRightEdge"}}},
ee={style:"zzRatingDisplay",star:{image:{active:"small_star_full.gif",half:"small_star_half.gif",inactive:"small_star_empty.gif"},style:{active:"zzStar",inactive:"zzStar"}}},ge={style:"zzRatingDescription",item:{active:"zzRatingTextActive",inactive:"zzRatingText"}},he=[Td,Od,Pd,Qd,Rd,Sd];d=ie.prototype;d.getImageFilenameWithBackground_=function(a){var b=this.style("backgroundColor");if(!b)return a;var c=a.split(".");return 2!=c.length||"gif"!=c[1]?a:c[0]+"-"+b+"."+c[1]};
d.getImagePath_=function(a){var b=this.style("backgroundColor")||"";return be.prototype.staticGwsUrlForImageWithBackgroundColor(a,b)||M.getSingleton().getImagePath(this.getImageFilenameWithBackground_(a))};d.attachTextNode_=function(a,b){this.textNode_=this.getDomHelper().createDom("span");this.textNode_.className=this.textStyles_.style;Kb(this.styles_,this.textNode_);b&&(this.arrayTextDescriptions_=this.appendSafeTextDescriptions_(b,[]));this.displayTextDescriptionForced_(this.value_);a.appendChild(this.textNode_)};
d.appendSafeTextDescriptions_=function(a,b){for(var c=0,e=a.firstChild;e&&6>c;e=e.nextSibling)"LI"==e.nodeName&&(b.push(e.textContent),++c);return b};d.createImageNode_=function(a,b,c,e,g,h){var n=this,m=this.getDomHelper().createDom("img");a.appendChild(m);c&&m.setAttribute("zzLabel",c);m.className=b;h&&!this.displayOnly_&&y(m,"mouseover",function(){h.call(n,e)});g&&!this.displayOnly_&&y(m,"mousedown",function(){g.call(n,e)});return m};
d.createRatingNodes_=function(a,b,c){this.ratingStyles_.leftEdge&&(this.leftEdgeNode_=this.createImageNode_(a,this.ratingStyles_.leftEdge.style.inactive,"leftEdge",null,null,null),this.leftEdgeNode_.src=this.getImagePath_(this.ratingStyles_.leftEdge.image.inactive));for(var e=this.ratingStyles_.cancel?0:1;5>=e;++e){var g=0==e?this.ratingStyles_.cancel.style.inactive:this.ratingStyles_.star.style.inactive,h=0==e?"cancel":"star"+e,g=this.createImageNode_(a,g,h,e,b,c);g.ratingIndex=e;0==e?this.cancelNode_=
g:this.arrayStarNode_.push(g)}this.ratingStyles_.rightEdge&&(a=this.createImageNode_(a,this.ratingStyles_.rightEdge.style.inactive,"rightEdge",null,null,null),a.src=this.getImagePath_(this.ratingStyles_.rightEdge.image.inactive))};d.cancelNode_=function(){return this.node_.childNodes[0]};d.starNode_=function(a){return 0>=a||5<a?null:this.arrayStarNode_[a-1]};d.descriptionNode_=function(a){return this.textNode_.childNodes[a]};d.value=function(){return this.value_};
d.setValue=function(a){a!=this.value_&&(this.value_=a,this.displayRating_(a),this.notifyListeners("valueChanged",this.value_))};d.displayTextDescription_=function(a){a!=this.displayValue_&&this.displayTextDescriptionForced_(a)};
d.displayTextDescriptionForced_=function(a){var b=this.arrayTextDescriptions_[a],c=Gd(this.value_),c=b?c+": "+b:c;this.displayOnly_?this.node_.title=c:(this.node_.setAttribute("aria-valuenow",a),this.node_.setAttribute("aria-valuetext",c),this.node_.setAttribute("aria-label",c));this.displayMessage_(b)};d.displayMessage_=function(a){this.textNode_&&(this.textNode_.textContent=a)};d.startSavingUI_=function(){this.displayMessage_(Ud)};d.finishSavingUI_=function(){this.displayMessage_(Vd)};
d.getSavedTimeout_=function(){return 300};d.tearDownSavedUI_=function(){this.displayTextDescriptionForced_(this.value_)};d.displayRating_=function(a){if(this.hasBeenAttached_){for(var b=0;5>b;++b){var c=this.starNode_(b+1),e;e=a>=b+.75?this.ratingStyles_.star.image.active:a>=b+.25?this.ratingStyles_.star.image.half:this.ratingStyles_.star.image.inactive;e=this.getImagePath_(e);c.src!=e&&(c.src=e)}this.refreshCancelButton_(a);this.displayTextDescription_(a);this.displayValue_=a}};
d.refreshCancelButton_=function(a){this.cancelNode_&&(this.displayOnly_||0==this.value_?(this.cancelNode_.src=this.getImagePath_(this.ratingStyles_.cancel.image.inactive),this.cancelNode_.className=this.ratingStyles_.cancel.style.hidden,this.leftEdgeNode_&&(this.leftEdgeNode_.className=this.ratingStyles_.leftEdge.style.inactive)):(this.leftEdgeNode_&&(this.leftEdgeNode_.className=this.ratingStyles_.leftEdge.style.hidden),0==a?(this.cancelNode_.className=this.ratingStyles_.cancel.style.inactive,this.cancelNode_.src=
this.getImagePath_(this.ratingStyles_.cancel.image.active)):(this.cancelNode_.className=this.ratingStyles_.cancel.style.active,this.cancelNode_.src=this.getImagePath_(this.ratingStyles_.cancel.image.inactive))))};var ke=function(a){Fd.call(this,a);this.uiGadget_=new ie(this.averageForDisplay(),!0,this.getDomHelper());this.uiGadget_.setStyles(je)};x(ke,Fd);var je={style:"zzAggregateRating",star:{image:{active:"small_star_full.gif",inactive:"small_star_empty.gif",half:"small_star_half.gif"},style:{active:"zzSmallStar",inactive:"zzSmallStar"}}};
ke.prototype.averageForDisplay=function(){var a=this.externalStats_?this.externalStats_.combinedAverage(this.ratingHistogram_):this.ratingHistogram_.average();return 0<=a?a:0};ke.prototype.refreshUI_=function(){this.uiGadget_.setValue(this.averageForDisplay())};ke.prototype.attach=function(a){this.uiGadget_.attach(a,null,null)};var le=function(a){U.call(this,a)};x(le,U);le.prototype.preferredWidth=function(){return 120};le.prototype.preferredHeight=function(){return 20};
le.prototype.createGadget_=function(){return new ke(this.domHelper_)};O().addToRegistry("AverageStarRating",le);var W=function(a,b,c){Dd.call(this,c);this.childGadgets_=[];this.flowthrough_=!!a;this.updateListInternal_=null;b&&(this.layoutDescriptor_=new b(this.getDomHelper()),this.rootNode_=this.layoutDescriptor_.createDOM(),this.layoutDescriptor_.getAllGadgets(this));this.gadgetIndex_={}};x(W,Dd);d=W.prototype;d.attach=function(a){this.rootNode_&&a.appendChild(this.rootNode_)};d.addExternalListener=function(a,b){for(var c=0;c<this.childGadgets_.length;++c)this.childGadgets_[c].addExternalListener(a,b)};
d.addAllListeners=function(){W.superClass_.addAllListeners.call(this);this.addUpdateListListener("annotationRequest",l(this.onUpdateListChanged,this))};d.addGadget=function(a,b){this.childGadgets_.push(a);if(this.updateList()){var c=this.flowthrough_?this.updateList():this.updateListInternal_;a.attachUpdateList(c)}b&&(this.gadgetIndex_[b]={},this.gadgetIndex_[b].GadgetRef=a,this.gadgetIndex_[b].GadgetIndex=this.childGadgets_.length-1);a.setAllStyles(this.styles_);return a};d.getGadgetByName=function(a){return this.gadgetIndex_[a].GadgetRef};
d.attachUpdateList=function(a){W.superClass_.attachUpdateList.call(this,a);if(this.flowthrough_)for(var b=0;b<this.childGadgets_.length;++b)this.childGadgets_[b].attachUpdateList(a);else for(this.updateListInternal_=new Vc(a.entity(),a.data()),b=0;b<this.childGadgets_.length;++b)this.childGadgets_[b].attachUpdateList(this.updateListInternal_)};d.requestFetch=function(){for(var a=0;a<this.childGadgets_.length;++a)this.childGadgets_[a].requestFetch()};
d.display=function(a){if(!this.flowthrough_)for(var b=0;b<this.childGadgets_.length;++b)this.childGadgets_[b].display(a)};d.onUpdateListChanged=function(a){if(!this.flowthrough_)for(var b=0;b<this.childGadgets_.length;++b)this.childGadgets_[b].onUpdateListChanged(a)};
d.save=function(){if(!this.flowthrough_){for(var a=0;a<this.childGadgets_.length;++a)this.childGadgets_[a].save();this.updateListInternal_.hasUpdates("annotationRequest")&&(a=this.updateListInternal_.coalesce("annotationRequest"),a.addListener("updateProcessing",l(this.onUpdateProcessingEvent_,this,a)),a.addListener("updateProcessed",l(this.onUpdateProcessedEvent_,this)),this.updateList().addUpdate(a),this.notifyListeners("valueChanged",a))}};
d.setStyle=function(a,b){W.superClass_.setStyle.call(this,a,b);for(var c=0;c<this.childGadgets_.length;++c)this.childGadgets_[c].setStyle(a,b)};d.setRatingHistogram=function(a){for(var b=0;b<this.childGadgets_.length;++b)this.childGadgets_[b].setRatingHistogram(a)};d.setExternalStats=function(a){for(var b=0;b<this.childGadgets_.length;++b)this.childGadgets_[b].setExternalStats(a)};var me=function(a,b){W.call(this,!0,null,b);this.rootNode_=this.getDomHelper().createDom("span");this.parentNodeDictionary_={};for(var c=/\{\$(\w+)\}/g,e=0,g=null,e=0;null!=(g=c.exec(a));e=c.lastIndex)e<g.index&&this.addTextSpan(a.slice(e,g.index)),e=g[1],g=this.getDomHelper().createDom("span"),this.rootNode_.appendChild(g),this.parentNodeDictionary_[e]=g;e<a.length&&this.addTextSpan(a.slice(e,a.length))};x(me,W);
me.prototype.addTextSpan=function(a){var b=this.getDomHelper().createDom("span"),c=0,e=a.length,g=[];" "==a.charAt(0)&&(g.push(""),c++);" "==a.charAt(a.length-1)&&e--;g.push(a.slice(c,e));e<a.length&&g.push("");b.textContent=g.join("<span>&nbsp;</span>");this.rootNode_.appendChild(b)};me.prototype.attach=function(a){a.appendChild(this.rootNode_);Kb(this.styles_,this.rootNode_);for(var b in this.parentNodeDictionary_)this.getGadgetByName(b).attach(this.parentNodeDictionary_[b])};var ne=function(a,b){me.call(this,a||Md,b);this.rootNode_.setAttribute("zzLabel","helpful");this.totalPositiveCountGadget_=new Yd(5,5,!1,this.getDomHelper());this.totalCountGadget_=new Yd(1,5,!1,this.getDomHelper());this.addGadget(this.totalPositiveCountGadget_,"numPositiveRatings");this.addGadget(this.totalCountGadget_,"totalRatings");this.hideOnNoRatings_=!0};x(ne,me);ne.prototype.totalCountChanged_=function(a){this.hideOrDisplay_(a)};
ne.prototype.hideOrDisplay_=function(a){this.rootNode_.className=0==a&&this.hideOnNoRatings_?"zzNumUsersFoundThisHelpful":"zzNumUsersFoundThisHelpfulActive"};ne.prototype.setHideOnNoRatings=function(a){this.hideOnNoRatings_=a};ne.prototype.attach=function(a){var b=this;this.totalCountGadget_.addListener("valueChanged",function(a){b.totalCountChanged_(a)},!0);ne.superClass_.attach.call(this,a)};var oe=function(a){U.call(this,a);this.template_=null;this.hideOnNoRatings_=!0};x(oe,U);d=oe.prototype;
d.preferredWidth=function(){return 460};d.preferredHeight=function(){return 20};d.createGadget_=function(){return new ne(this.template_,this.domHelper_)};d.configure_=function(a){oe.superClass_.configure_.call(this,a);a.setHideOnNoRatings(this.hideOnNoRatings_);return a};
d.dictionary_=function(){return{hideOnNoRatings:{suppress:function(){return 1==this.hideOnNoRatings_},print:function(a){a.booleanValue(this.hideOnNoRatings_)},parse:function(a){this.hideOnNoRatings_=!!Lb(String(a).toString(),!0)}},template:{suppress:function(){return!this.template_},print:function(a){a.print(this.template_)},parse:function(a){this.template_=a}}}};O().addToRegistry("NumUsersFoundThisHelpful",oe);var pe=function(a,b,c,e){S.call(this,e);var g=this;this.value_=a;this.displayOnly_=b;this.hideIfNoValueAvailable_=c;this.uiGadget_=this.createUIGadget(a,b);this.uiGadget_.addListener("valueChanged",function(a){g.onUIGadgetValueChanged_(a)})};x(pe,S);d=pe.prototype;d.createUIGadget=function(a,b){return new ie(a,b,this.getDomHelper())};d.attach=function(a,b,c){this.uiGadget_.attach(a,this.getDomHelper().getElement(b),this.getDomHelper().getElement(c))};d.value=function(){return this.value_};
d.toString=function(){return"RatingEditorGadget "+this.entity().toString()};d.onUIGadgetValueChanged_=function(a){if(this.value_!=a){var b=this.createAndInitUpdate();b.setOriginalRating(this.value_);b.setRating(a);this.value_=a;this.displayOnly_||this.updateList().addUpdate(b);this.notifyListeners("valueChanged",a)}};d.display=function(a){a&&a.rating&&(0>a.rating()?this.hideIfNoValueAvailable_?this.uiGadget_.showDisplay(!1):(this.uiGadget_.showDisplay(!0),this.displayNewValue_(0)):this.displayNewValue_(a.rating()))};
d.onUpdateListChanged=function(a){a&&a.rating&&(0>a.rating()?this.hideIfNoValueAvailable_?this.uiGadget_.showDisplay(!1):this.uiGadget_.showDisplay(!0):this.displayNewValue_(a.rating()))};d.displayNewValue_=function(a){this.value_!=a&&(this.value_=a,this.uiGadget_.setValue(this.value_),this.notifyListeners("valueChanged",this.value_))};var X=function(a){T.call(this,a);this.val_=0};x(X,T);X.prototype.setInitialValues=function(a){void 0!==this.val_&&a.setRating(this.val_)};
X.prototype.dictionary_=function(){return{val:{suppress:function(){return void 0===this.val_},print:function(a){a.number(this.val_)},parse:function(a){this.val_=Number(a)}}}};var qe=function(a){X.call(this,a);this.descriptionTemplateNodeId_=this.descriptionNodeId_=null};x(qe,X);d=qe.prototype;d.preferredWidth=function(){return 100};d.preferredHeight=function(){return 20};d.createGadget_=function(){return new pe(this.val_,!1,null,this.domHelper_)};
d.attach=function(a,b){a.attach(b,this.descriptionNodeId_,this.descriptionTemplateNodeId_)};d.dictionary_=function(){return{descriptionNodeId:{suppress:function(){return!this.descriptionNodeId_},print:function(a){a.string(this.descriptionNodeId_)},parse:function(a){this.descriptionNodeId_=a}},descriptionTemplateNodeId:{suppress:function(){return!this.descriptionTemplateNodeId_},print:function(a){a.string(this.descriptionTemplateNodeId_)},parse:function(a){this.descriptionTemplateNodeId_=a}}}};
O().addToRegistry("RatingEditor",qe);var re=function(a){qe.call(this,a)};x(re,qe);re.prototype.preferredWidth=function(){return 100};re.prototype.preferredHeight=function(){return 10};re.prototype.createGadget_=function(){return new pe(this.val_,!0,null,this.domHelper_)};O().addToRegistry("RatingDisplay",re);var se=function(a,b,c){W.call(this,!0,null,c);this.ratingEditor_=this.addGadget(new pe(a,null,null,this.getDomHelper()));this.aggregateStarRating_=this.addGadget(new ke(this.getDomHelper()));this.aggregateRatingStats_=this.addGadget(new Yd(1,5,!0,this.getDomHelper()))};x(se,W);se.prototype.value=function(){return this.ratingEditor_.value()};
se.prototype.attach=function(a){var b=this.getDomHelper().createDom("TABLE");b.className="zzRatingPanel";b.setAttribute("cellspacing","0");b.setAttribute("cellpadding","0");b.setAttribute("border","0");Kb(this.styles_,b);var c=this.getDomHelper().createDom("TBODY"),e=this.getDomHelper().createDom("TR"),g=this.getDomHelper().createDom("TD");g.className="zzAggregateRating";e.appendChild(g);var h=this.getDomHelper().createDom("TD");h.setAttribute("valign","top");h.setAttribute("style","padding-left: 5px;");
h.className="zzRatingEditor";e.appendChild(h);c.appendChild(e);var e=this.getDomHelper().createDom("TR"),n=this.getDomHelper().createDom("TD");n.className="zzAggregateRatingStat";e.appendChild(n);var m=this.getDomHelper().createDom("TD");m.className="zzRatingDescription";e.appendChild(m);c.appendChild(e);b.appendChild(c);a.appendChild(b);this.aggregateStarRating_.attach(g);this.ratingEditor_.attach(h,m);this.aggregateRatingStats_.attach(n)};var te=function(a){U.call(this,a);this.val_=0};x(te,U);
d=te.prototype;d.preferredWidth=function(){return 300};d.preferredHeight=function(){return 60};d.setInitialValues=function(a){te.superClass_.setInitialValues.call(this,a);a.setRating(this.val_)};d.createGadget_=function(){var a=new se(this.val_,null,this.domHelper_);return a};d.dictionary_=function(){return{val:{suppress:function(){return 0==this.val_},print:function(a){a.number(this.val_)},parse:function(a){this.val_=Number(a)}}}};O().addToRegistry("RatingPanel",te);
O().addToRegistry("RatingControl",te);var ue=function(a){S.call(this,a);this.node_=null};x(ue,S);d=ue.prototype;d.attach=function(a){this.node_=this.createDOM_();a.appendChild(this.node_)};d.createDOM_=function(){var a=this.getDomHelper().createDom("a");a.href="#";a.className="zzReportSpamLink";a.textContent=Nd;y(a,"click",l(this.onSpamLinkClicked_,this));a.style.display="none";return a};d.display=function(a){this.possiblyShowWidget_(a)};d.onUpdateListChanged=function(a){this.possiblyShowWidget_(a)};
d.possiblyShowWidget_=function(a){a&&a.entity()&&(a=this.useOriginalEntity(a.entity()),Kc().id_&&Kc().id_==a.author()?this.node_&&(this.node_.style.display="none"):this.node_&&(this.node_.style.display=""))};d.onSpamLinkClicked_=function(){var a=new Ec;a.setEntity(this.useOriginalEntity(this.entity()));a.setCategory(4);a.setAbuseCategory("GENERAL_ABUSE");var b=new Hc;b.addAbuseReport(a);this.annotationDocument_.reportAbuse(b,l(this.abuseReportWritten_,this))};
d.abuseReportWritten_=function(a,b){0==b.status()&&this.notifyListeners("hide",null)};var ve=function(a){T.call(this,a)};x(ve,T);ve.prototype.createGadget_=function(){return new ue(this.domHelper_)};O().addToRegistry("ReportSpamLink",ve);var ye=function(a,b,c){ce.call(this,a,b?we:xe,c);this.displayOnly_=b;this.arrayRatingNode_=[];this.arrayRadioNode_=[];this.format_=0};x(ye,ce);
var xe={style:"zzVotingEdit",ratings:[{value:5,label:"voteYes",text:Wd,style:{active:"zzVoteAffirmativeActive",inactive:"zzVoteAffirmative",hidden:"zzVoteAffirmativeHidden"}},{value:1,label:"voteNo",text:Xd,style:{active:"zzVoteNegativeActive",inactive:"zzVoteNegative",hidden:"zzVoteNegativeHidden"}}],spacer:{text:"&nbsp;-&nbsp;",style:"zzVoteSpacer"}},we={style:"zzVotingDisplay",ratings:[{value:5,text:"You voted yes",style:{active:"zzVoteAffirmativeActive",inactive:"zzVoteAffirmative",hidden:"zzVoteAffirmativeHidden"}},
{value:1,text:"You voted no",style:{active:"zzVoteNegativeActive",inactive:"zzVoteNegative",hidden:"zzVoteNegativeHidden"}}]};ye.prototype.setFormat=function(a){this.format_=a};
ye.prototype.createRatingNode_=function(a,b,c,e,g,h,n){var m=this,t=null;1==this.format_&&(t=this.getDomHelper().createDom("input"),t.type="radio",t.checked=0,a.appendChild(t));var E=this.getDomHelper().createDom("span");e&&E.setAttribute("zzLabel",e);E.className=b;E.textContent=c;a.appendChild(E);n&&!this.displayOnly_&&y(E,"mouseover",function(){n.call(m,g)});h&&!this.displayOnly_&&(y(E,"mousedown",function(){h.call(m,g)}),t&&y(t,"mousedown",function(){h.call(m,g)}),E.role="button");g&&(E.ratingIndex=
g,t&&(t.ratingIndex=g));this.arrayRatingNode_.push(E);this.arrayRadioNode_.push(t);return E};ye.prototype.createRatingNodes_=function(a,b,c){for(var e=0;e<this.ratingStyles_.ratings.length;++e){if(0<e&&this.ratingStyles_.spacer){var g=this.getDomHelper().createDom("span");a.appendChild(g);g.className=this.ratingStyles_.spacer.style;g.textContent=this.ratingStyles_.spacer.text}g=this.ratingStyles_.ratings[e];this.createRatingNode_(a,g.style.inactive,g.text,g.label,g.value,b,c)}};
ye.prototype.displayRating_=function(a,b){if(this.hasBeenAttached_){for(var c=0;c<this.ratingStyles_.ratings.length;++c){var e=this.arrayRatingNode_[c],g=this.arrayRadioNode_[c],h=this.ratingStyles_.ratings[c];e.ratingIndex==a?(e.className=h.style.active,g&&!b&&(g.checked=1)):(e.className=h.style.inactive,g&&!b&&(g.checked=0))}this.displayValue_=a}};var ze=function(a,b,c){pe.call(this,a,b,null,c)};x(ze,pe);ze.prototype.createUIGadget=function(a,b){return new ye(a,b,this.getDomHelper())};ze.prototype.setFormat=function(a){this.uiGadget_.setFormat(a)};var Ae=function(a){X.call(this,a);this.format_=void 0};x(Ae,X);var Be={textOnly:0,radioButton:1};d=Ae.prototype;d.preferredWidth=function(){return 100};d.preferredHeight=function(){return 30};d.createGadget_=function(){return new ze(this.val_,!1,this.domHelper_)};
d.configure_=function(a){Ae.superClass_.configure_.call(this,a);if(this.format_){var b=Be[this.format_];void 0!==b&&a.setFormat(b)}return a};d.dictionary_=function(){return{inputFormat:{suppress:function(){return!this.format_},print:function(a){a.string(this.format_)},parse:function(a){this.format_=a}}}};O().addToRegistry("VotingEditor",Ae);var Ce=function(a){X.call(this,a)};x(Ce,X);Ce.prototype.preferredWidth=function(){return 100};Ce.prototype.preferredHeight=function(){return 30};
Ce.prototype.createGadget_=function(){return new ze(this.val_,!0,this.domHelper_)};O().addToRegistry("VotingDisplay",Ce);var Y=function(){};d=Y.prototype;d.getNode=function(a,b,c){a=window.frames[a].document.body;return N(a,b,c)};d.getText=function(a,b,c){return(a=this.getNode(a,b,c))?a.firstChild.nodeValue:null};d.getAttributeValue=function(a,b,c,e){a=window.frames[a].document.body;return(b=N(a,b,c))?b.getAttribute(e):null};d.getCancelStatus=function(a){a=window.frames[a].document.body;return N(a,"zzlabel","cancel").className};
d.getImgSrc=function(a,b,c){var e=null;a=window.frames[a].document.body;var g=null;if(g=c?N(a,"class",c):N(a,"class","zzRatingEdit"))b=N(g,"zzlabel","star"+b),e=b.getAttribute("src");return e};d.getRatingDescription=function(a){a=window.frames[a].document.body;return(a=N(a,"class","zzRatingDescription"))?(a=N(a,"class","zzRatingDescription",!0),a.firstChild.nodeValue):""};
d.getNumRatings=function(a){a=window.frames[a].document.body;return(a=N(a,"class","zzAggregateRatingStat"))?(a=N(a,"class","zzAggregateRatingStat",!0),a=a.firstChild.nodeValue,parseInt(a,10)):-1};d.getVotingStatus=function(a,b){var c=window.frames[a].document.body,c=b?N(c,"zzlabel","voteYes"):N(c,"zzlabel","voteNo");return c.className};
d.postComment=function(a,b){var c=window.frames[a].document.body,e=N(c,"class","zzCommentPosterCollapseLinkImage");-1!=e.getAttribute("src").indexOf("Plus")&&fd(e);e=N(c,"zzlabel","textEditor");e.value=b;c=N(c,"zzlabel","publishButton");fd(c)};d.getCommentList=function(a){a=window.frames[a].document.body;return N(a,"zzlabel","contentNode")};
d.checkHideInAllComments=function(a,b){for(var c=this.getCommentList(a),e=0,c=c.firstChild;c;c=c.nextSibling)if(1==c.nodeType&&"twCommentDisplay"==c.getAttribute("zzlabel")){if(b&&!N(c,"class","zzHideAnnotationLink"))return-1;++e}return e};d.getIthCommentNode=function(a,b){for(var c=this.getCommentList(a),e=0,c=c.firstChild;c;c=c.nextSibling)if(1==c.nodeType&&"twCommentDisplay"==c.getAttribute("zzlabel")){if(e==b)return c;++e}return null};
d.getTextInNode=function(a){if(null==a)return"";if("#text"==a.nodeName)return a.nodeValue;var b="";for(a=a.firstChild;a;a=a.nextSibling)b="#text"==a.nodeName?b+a.nodeValue:b+this.getTextInNode(a);return b};d.checkFieldsInIthComment=function(a,b,c){var e=this.getCommentList(a);if(null==e)return"commentListContainer == null";a=this.getIthCommentNode(a,b);return null==a?"commentNode == null":this.checkFieldsInComment(a,c)};
d.checkFieldsInComment=function(a,b){var c=N(a,"class","zzCommentDisplayAuthorName"),c=this.getTextInNode(c);if(null==c||0==c.length)return"Failed to check author field (null or empty).";c=N(a,"class","zzCommentDisplayTimestamp");c=this.getTextInNode(c);if(null==c||0==c.length)return"Failed to check timestamp field (null or empty).";c=N(a,"class","zzReportSpamLink");c=this.getTextInNode(c);if(b!=c)return"Failed to check mark spam link. Got: "+c;c=N(a,"class","zzTextEditorReadOnly");c=this.getTextInNode(c);
return null==c||0==c.length?"Failed to check comment content (null or empty).":"true"};d.checkSignInLink=function(a,b){var c=window.frames[a].document.body,c=N(c,"class","zzCommentPosterSignInLink"),c=this.getTextInNode(c).replace(/\u00A0/g," ");return c==b?"true":"Failed to check SignInLink. Got: "+c};d.getIthComment=function(a,b){var c=this.getIthCommentNode(a,b);return c?(c=N(c,"class","zzTextEditorReadOnly"),this.getTextInNode(c)):""};
d.hideIthComment=function(a,b){var c=this.getIthCommentNode(a,b);c&&(c=N(c,"class","zzHideAnnotationLink"),fd(c))};d.doRating=function(a,b){var c=window.frames[a].document.body;(c=N(c,"class","zzRatingEdit"))&&(c=0==b?N(c,"zzlabel","cancel"):N(c,"zzlabel","star"+b))&&ed(c)};d.doVoting=function(a,b){var c=window.frames[a].document.body;(c=b?N(c,"zzlabel","voteYes"):N(c,"zzlabel","voteNo"))&&ed(c)};var De=null,Z=function(a,b,c){var e=l,g;De||(De=new Y);g=De;c=e(c,g);a[b]=c};
window.google=window.google||{};var Ee={};window.google.seleniumhelper=Ee;Z(window.google.seleniumhelper,"getNode",Y.prototype.getNode);Z(window.google.seleniumhelper,"getText",Y.prototype.getText);Z(window.google.seleniumhelper,"getAttributeValue",Y.prototype.getAttributeValue);Z(window.google.seleniumhelper,"getCancelStatus",Y.prototype.getCancelStatus);Z(window.google.seleniumhelper,"getImgSrc",Y.prototype.getImgSrc);Z(window.google.seleniumhelper,"getRatingDescription",Y.prototype.getRatingDescription);
Z(window.google.seleniumhelper,"getNumRatings",Y.prototype.getNumRatings);Z(window.google.seleniumhelper,"getVotingStatus",Y.prototype.getVotingStatus);Z(window.google.seleniumhelper,"checkSignInLink",Y.prototype.checkSignInLink);Z(window.google.seleniumhelper,"checkFieldsInIthComment",Y.prototype.checkFieldsInIthComment);Z(window.google.seleniumhelper,"postComment",Y.prototype.postComment);Z(window.google.seleniumhelper,"checkHideInAllComments",Y.prototype.checkHideInAllComments);
Z(window.google.seleniumhelper,"getIthComment",Y.prototype.getIthComment);Z(window.google.seleniumhelper,"hideIthComment",Y.prototype.hideIthComment);Z(window.google.seleniumhelper,"doRating",Y.prototype.doRating);Z(window.google.seleniumhelper,"doVoting",Y.prototype.doVoting);var Fe=function(){},od=null;Fe.prototype.isNotNullProfiler=function(){return!0};var Ge=function(){};x(Ge,Fe);od=new Ge;Fe.prototype.isNotNullProfiler=function(){return!1};var He=function(){};var Je=function(){return Ie.createInstance()},Ie,Ke=function(){};ha(Ke,He);Ke.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};
Ke.prototype.getProgId_=function(){if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;b<a.length;b++){var c=a[b];try{return new ActiveXObject(c),this.ieProgId_=c}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return this.ieProgId_};var Le=new Ke;Ie=Le;var Me=function(){this.xhr_=null;this.active_=!1};d=Me.prototype;
d.send=function(a,b,c,e,g,h,n){c=c||"GET";this.active_=!0;this.xhr_=n?n:new Je;this.xhr_.onreadystatechange=l(this.onReadyStateChange_,this,b);try{this.xhr_.open(c,a,!0)}catch(t){return}a=e||"";"POST"==c&&g&&!g["Content-Type"]&&this.xhr_.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(var m in g)g.hasOwnProperty(m)&&this.xhr_.setRequestHeader(m,g[m]);try{0<h&&window.setTimeout(l(this.timeout_,this,b),h),this.xhr_.send(a)}catch(t){}};
d.timeout_=function(a){"undefined"!=typeof La&&this.xhr_&&(this.abort(),a(this.xhr_,0))};d.abort=function(){this.xhr_&&(this.active_=!1,this.xhr_.abort(),this.cleanUpXhr_())};d.cleanUpXhr_=function(){this.xhr_&&(this.xhr_=null)};d.onReadyStateChange_=function(a){this.active_&&"undefined"!=typeof La&&this.isComplete()&&(this.active_=!1,this.isSuccess()?a(this.xhr_,1):a(this.xhr_,2),this.cleanUpXhr_())};d.isComplete=function(){return 4==this.getReadyState()};
d.isSuccess=function(){switch(this.getStatus()){case 0:case 200:case 204:case 304:return!0;default:return!1}};d.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};d.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_.status:-1}catch(a){return-1}};var Ne=function(){};x(Ne,K);Ne.prototype.send=function(a,b){var c=a.toJSON(Vb(),!0),e=[];e.push("req="+c);(c=D().userKey())&&e.push("userKey="+c);var c=[],g=D().widgetsOnPage_,h;for(h in g)c.push(h);e.push("requestSource="+c.join(","));a.pushArguments(e);e=e.join("&");h=a.url();var c=l(this.xmlHttpCompleteHandler_,this,b),g=a.timeout(),n=new Me;n.send(h,c,"POST",e,null,Math.max(0,g),void 0)};
Ne.prototype.xmlHttpCompleteHandler_=function(a,b,c){var e=new J;0==c?(e.initFromRequestStatus(null,K.STATUS.TIMEOUT),a(null,e)):2==c?(e.initFromRequestStatus(null,K.STATUS.FAILURE),a(null,e)):(b=b.responseText)?"{"!=b.charAt(0)?(e.initFromRequestStatus(null,K.STATUS.SERVER_RESPONSE_IS_NOT_JSON),a(null,e)):(b=eval("("+b+")"),e.initFromRequestStatus(b,K.STATUS.SUCCESS),a(b,e)):(e.initFromRequestStatus(null,K.STATUS.SERVER_RESPONSE_IS_NOT_JSON),a(null,e))};var Oe=function(){};x(Oe,M);Oe.prototype.createServerChannel=function(){return new Ne};M.singleton_=new Oe;window["google"]["annotations"]["internal"]["initFromCGIArgs"]();if (window["google"] && window["google"]["annotations"] && window["google"]["annotations"]["callback"]) {window["google"]["annotations"]["callback"]();}})()
